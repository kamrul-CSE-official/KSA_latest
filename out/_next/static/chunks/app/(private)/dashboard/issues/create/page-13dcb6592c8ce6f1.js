(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6322],{4229:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},7877:(e,t,s)=>{Promise.resolve().then(s.bind(s,65258))},29869:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},55365:(e,t,s)=>{"use strict";s.d(t,{Fc:()=>c,TN:()=>o,XL:()=>d});var a=s(22342),l=s(33670),r=s(74466),n=s(59434);let i=(0,r.F)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),c=l.forwardRef((e,t)=>{let{className:s,variant:l,...r}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,n.cn)(i({variant:l}),s),...r})});c.displayName="Alert";let d=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("h5",{ref:t,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",s),...l})});d.displayName="AlertTitle";let o=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",s),...l})});o.displayName="AlertDescription"},65258:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>L});var a=s(22342),l=s(33670),r=s(35169),n=s(35695),i=s(34540),c=s(56671),d=s(30285),o=s(57434),m=s(70463),u=s(53311),h=s(19946);let x=(0,h.A)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var p=s(29869);let g=(0,h.A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var f=s(40646),b=s(51154),j=s(4229),v=s(66695),y=s(85057),N=s(62523),w=s(88539),k=s(55365),A=s(26126),C=s(54416),S=s(84616);function D(e){let{value:t,onChange:s,onBlur:r,placeholder:n="Add tags...",maxTags:i=5,className:c=""}=e,[d,o]=(0,l.useState)(""),m=e=>{let a=e.trim().toLowerCase();a&&!t.includes(a)&&t.length<i&&(s([...t,a]),o(""))},u=e=>{s(t.filter(t=>t!==e))},h=["bug","feature","enhancement","documentation","question","help-wanted","good-first-issue","priority-high","priority-low"].filter(e=>!t.includes(e));return(0,a.jsxs)("div",{className:"space-y-3 ".concat(c),children:[t.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:t.map(e=>(0,a.jsxs)(A.E,{variant:"secondary",className:"bg-gradient-to-r from-blue-100 to-purple-100 text-blue-800 hover:from-blue-200 hover:to-purple-200 transition-all duration-200 px-3 py-1",children:[e,(0,a.jsx)("button",{type:"button",onClick:()=>u(e),className:"ml-2 hover:text-blue-600 transition-colors",children:(0,a.jsx)(C.A,{className:"h-3 w-3"})})]},e))}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(N.p,{value:d,onChange:e=>o(e.target.value),onKeyDown:e=>{"Enter"===e.key||","===e.key?(e.preventDefault(),m(d)):"Backspace"===e.key&&!d&&t.length>0&&u(t[t.length-1])},onBlur:()=>{d.trim()&&m(d),null==r||r()},placeholder:t.length>=i?"Maximum ".concat(i," tags reached"):n,disabled:t.length>=i,className:"pr-10 transition-all duration-200"}),(0,a.jsx)(S.A,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"})]}),t.length<i&&h.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-sm text-slate-600 font-medium",children:"Suggested tags:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:h.slice(0,6).map(e=>(0,a.jsxs)(A.E,{variant:"outline",className:"cursor-pointer hover:bg-slate-100 transition-colors text-xs",onClick:()=>m(e),children:[(0,a.jsx)(S.A,{className:"h-3 w-3 mr-1"}),e]},e))})]}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"Press Enter or comma to add tags. Use backspace to remove the last tag."})]})}var F=s(95619),T=s(57114),M=s(47201);function E(e){let{content:t,onChange:s,placeholder:r}=e,n=(0,l.useRef)(null),[i,c]=(0,l.useState)(""),[d,{isLoading:o,data:m=[]}]=(0,M.LI)();m.filter(e=>e.name.toLowerCase().includes(i.toLowerCase())),(0,l.useEffect)(()=>{i&&d({SearchKey:i})},[i,d]);let u=(0,l.useCallback)((e,t)=>{n.current=t,t.on("keydown",e=>{"@"===e.key&&(e.preventDefault(),c(""))})},[]);return(0,a.jsx)("div",{className:"relative rounded-lg border bg-background shadow-sm",children:(0,a.jsx)(l.Suspense,{fallback:(0,a.jsx)("p",{children:"Loading..."}),children:(0,a.jsx)(T.K,{tinymceScriptSrc:"/tinymce/tinymce.min.js",onInit:u,value:t,init:{statusbar:!1,skin:!1,content_css:!1,branding:!1,height:1e3,menubar:!1,disabled:!1,plugins:["advlist","autolink","lists","link","image","charmap","preview","anchor","searchreplace","visualblocks","code","fullscreen","insertdatetime","media","table","help","wordcount","emoticons"],toolbar:"undo redo | blocks fontfamily | bold italic underline strikethrough | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image media table | removeformat | help",content_style:"\n              body { \n                font-family: Inter, system-ui, sans-serif; \n                font-size: 14px; \n                line-height: 1.5;\n                padding: 12px;\n              }\n              .mention {\n                background: #e0f2fe;\n                color: #0369a1;\n                border-radius: 4px;\n                padding: 0 4px;\n                font-weight: 500;\n              }\n              img {\n                max-width: 100%;\n                height: auto;\n              }\n              table {\n                border-collapse: collapse;\n                width: 100%;\n              }\n              table, th, td {\n                border: 1px solid #e2e8f0;\n              }\n              th, td {\n                padding: 8px 12px;\n              }\n            ",image_advtab:!0,automatic_uploads:!0,file_picker_callback:e=>{let t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("accept","image/*"),t.onchange=()=>{var s;let a=null===(s=t.files)||void 0===s?void 0:s[0];if(!a)return;let l=new FileReader;l.onload=()=>{e(l.result,{title:a.name})},l.readAsDataURL(a)},t.click()},placeholder:r},onEditorChange:s})})})}s(19734),s(29639),s(86818),s(85020),s(95162),s(65219),s(12614),s(40686),s(56581),s(81863),s(51062),s(75710),s(91607),s(11067),s(37863),s(14756);let I=(0,h.A)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),z=(0,h.A)("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);var _=s(23464),U=s(6874),B=s.n(U);function R(e){let{onFilesChange:t,maxFiles:s=5,maxFileSize:r=5,acceptedTypes:n=["image/*","application/pdf"],className:i=""}=e,[c,o]=(0,l.useState)([]),[m,u]=(0,l.useState)([]),[h,x]=(0,l.useState)([]),j=(0,l.useRef)(null),y=async e=>{let t=new FormData;return t.append("file",e),(await _.A.post("https://192.168.1.253:8080/FileUpload/FileUploads",t,{headers:{"Content-Type":"multipart/form-data"}})).data},N=e=>e.size>1048576*r?"File size must be less than ".concat(r,"MB"):n.some(t=>{if(t.includes("*")){let s=t.split("/")[0];return e.type.startsWith(s)}return e.type===t})?null:"File type not supported. Please upload images or PDF files only.",w=(0,l.useCallback)(async e=>{let a=[],l=[];for(let n of(Array.from(e).forEach(e=>{if(c.length+l.length>=s){a.push("Maximum ".concat(s," files allowed"));return}let t=N(e);t?a.push("".concat(e.name,": ").concat(t)):l.push(e)}),x(a),l)){let e="".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9));try{var r;u(t=>[...t,e]);let s=await y(n),a={id:e,name:n.name,size:n.size,type:n.type,url:s.url||(null===(r=s.data)||void 0===r?void 0:r.url)||s,uploadedAt:new Date};o(e=>{let s=[...e,a];return t(s),s})}catch(e){console.error("Upload failed:",e),x(e=>[...e,"Failed to upload ".concat(n.name)])}finally{u(t=>t.filter(t=>t!==e))}}},[c,s,t]),S=(0,l.useCallback)(e=>{e.preventDefault();let t=e.dataTransfer.files;t.length>0&&w(t)},[w]),D=(0,l.useCallback)(e=>{e.preventDefault()},[]),F=e=>{o(s=>{let a=s.filter(t=>t.id!==e);return t(a),a})},T=e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return Number.parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},M=e=>e.startsWith("image/")?(0,a.jsx)(I,{className:"h-5 w-5 text-blue-600"}):(0,a.jsx)(z,{className:"h-5 w-5 text-red-600"});return(0,a.jsxs)("div",{className:"space-y-4 ".concat(i),children:[(0,a.jsx)(v.Zp,{className:"border-2 border-dashed border-slate-300 hover:border-blue-400 transition-colors cursor-pointer",onDrop:S,onDragOver:D,onClick:()=>{var e;return null===(e=j.current)||void 0===e?void 0:e.click()},children:(0,a.jsx)(v.Wu,{className:"p-8 text-center",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,a.jsx)("div",{className:"p-4 bg-blue-50 rounded-full",children:(0,a.jsx)(p.A,{className:"h-8 w-8 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-slate-700 mb-2",children:"Upload Files"}),(0,a.jsx)("p",{className:"text-slate-500 mb-2",children:"Drag and drop files here, or click to browse"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Supports: Images (JPG, PNG, GIF) and PDF files"}),(0,a.jsxs)("p",{className:"text-sm text-slate-400",children:["Max file size: ",r,"MB • Max files: ",s]})]}),(0,a.jsxs)(d.$,{type:"button",variant:"outline",className:"mt-2 bg-transparent",children:[(0,a.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Choose Files"]})]})})}),(0,a.jsx)("input",{ref:j,type:"file",multiple:!0,accept:n.join(","),onChange:e=>e.target.files&&w(e.target.files),className:"hidden"}),h.length>0&&(0,a.jsxs)(k.Fc,{className:"border-red-200 bg-red-50",children:[(0,a.jsx)(g,{className:"h-4 w-4 text-red-600"}),(0,a.jsxs)(k.TN,{className:"text-red-700",children:[(0,a.jsx)("div",{className:"space-y-1",children:h.map((e,t)=>(0,a.jsx)("div",{children:e},t))}),(0,a.jsx)(d.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>x([]),className:"mt-2 h-6 px-2 text-red-600 hover:text-red-700",children:"Dismiss"})]})]}),c.length>0&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h4",{className:"text-sm font-semibold text-slate-700",children:["Uploaded Files (",c.length,"/",s,")"]}),(0,a.jsx)(A.E,{variant:"outline",className:"text-xs",children:c.reduce((e,t)=>e+t.size,0)>0&&T(c.reduce((e,t)=>e+t.size,0))})]}),(0,a.jsx)("div",{className:"grid gap-3",children:c.map(e=>{var t;return(0,a.jsx)(v.Zp,{className:"border border-slate-200",children:(0,a.jsxs)(v.Wu,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[M(e.type),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-slate-700 truncate",children:e.name}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[(0,a.jsx)("span",{children:T(e.size)}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:e.uploadedAt.toLocaleTimeString()})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(A.E,{variant:"secondary",className:"text-xs",children:[(0,a.jsx)(f.A,{className:"h-3 w-3 mr-1 text-green-600"}),"Uploaded"]}),(0,a.jsx)(d.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>F(e.id),className:"h-8 w-8 p-0 text-slate-400 hover:text-red-600",children:(0,a.jsx)(C.A,{className:"h-4 w-4"})})]})]}),(null==e?void 0:null===(t=e.type)||void 0===t?void 0:t.startsWith("image/"))?(0,a.jsx)("div",{className:"mt-3",children:(0,a.jsx)(B(),{href:"https://192.168.1.253:8080/uploads/".concat(e.url),target:"_blank",rel:"noopener noreferrer",children:(0,a.jsx)("img",{src:"https://192.168.1.253:8080/uploads/".concat(e.url),alt:e.name,className:"max-w-full h-20 object-cover rounded border"})})}):(0,a.jsx)("div",{className:"mt-3",children:(0,a.jsxs)(B(),{href:"https://192.168.1.253:8080/uploads/".concat(e.url),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:["\uD83D\uDCC4 ",e.name||"Download file"]})})]})},e.id)})})]}),m.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-slate-700",children:"Uploading..."}),m.map(e=>(0,a.jsx)(v.Zp,{className:"border border-blue-200 bg-blue-50",children:(0,a.jsx)(v.Wu,{className:"p-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(b.A,{className:"h-4 w-4 animate-spin text-blue-600"}),(0,a.jsx)("span",{className:"text-sm text-blue-700",children:"Uploading file..."})]})})},e))]}),c.length>0&&(0,a.jsx)("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("span",{className:"text-slate-600",children:[c.length," file",1!==c.length?"s":""," ready to submit"]}),(0,a.jsxs)("span",{className:"text-slate-500",children:["Total size: ",T(c.reduce((e,t)=>e+t.size,0))]})]})})]})}function P(e){let{onSubmit:t,isSubmitting:s}=e,[r,n]=(0,l.useState)(""),[i,c]=(0,l.useState)(""),[h,C]=(0,l.useState)(""),[S,T]=(0,l.useState)([]),[M,I]=(0,l.useState)({}),[z,_]=(0,l.useState)({}),[U,B]=(0,l.useState)([]),P=(0,l.useCallback)(()=>{let e={};return r.trim()?r.length>100&&(e.title="Title must be ".concat(100," characters or less")):e.title="Title is required",i.trim()?i.length>1e3&&(e.summary="Summary must be ".concat(1e3," characters or less")):e.summary="Summary is required",h.trim()?h.length<20&&(e.content="Description must be at least ".concat(20," characters")):e.content="Description is required",0===S.length&&(e.tags="At least one tag is required"),e},[r,i,h,S]),L=0===Object.keys(P()).length,O=e=>{_(t=>({...t,[e]:!0}));let t=P();I(s=>({...s,[e]:t[e]}))},J=(e,t)=>{switch(e){case"title":n(t);break;case"summary":c(t);break;case"content":C(t)}if(z[e]){let t=P();I(s=>({...s,[e]:t[e]}))}};return(0,a.jsxs)(v.Zp,{className:"shadow-xl border-0 backdrop-blur-sm",children:[(0,a.jsx)(v.aR,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-t-lg",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-white/20 rounded-lg",children:(0,a.jsx)(o.A,{className:"h-6 w-6"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(v.ZB,{className:"text-2xl font-bold",children:"Create New Incident"}),(0,a.jsx)("p",{className:"text-blue-100 mt-1",children:"Share your challenge and get help from the community"})]})]})}),(0,a.jsx)(v.Wu,{className:"p-8 space-y-8",children:(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault();let s=P();I(s),_({title:!0,summary:!0,content:!0,tags:!0}),0===Object.keys(s).length&&t({title:r.trim(),content:h.trim(),tags:S,summary:i.trim(),files:null==U?void 0:U.map(e=>"https://192.168.1.253:8080/uploads/".concat(e.url)),fileTypes:U.map(e=>e.type)})},className:"space-y-8",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)(y.J,{htmlFor:"title",className:"text-lg font-semibold text-slate-700 flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"h-5 w-5"}),"Issue Title *"]}),(0,a.jsxs)(A.E,{variant:r.length>100?"destructive":"secondary",children:[r.length,"/",100]})]}),(0,a.jsx)(N.p,{id:"title",value:r,placeholder:"e.g., How to increase production efficiency in manufacturing?",onChange:e=>J("title",e.target.value),onBlur:()=>O("title"),className:"text-lg h-12 ".concat(M.title?"border-red-300 focus:ring-red-200":"border-slate-300 focus:ring-blue-200"),required:!0}),M.title&&(0,a.jsx)(q,{message:M.title})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(y.J,{htmlFor:"summary",className:"text-lg font-semibold text-slate-700",children:"Quick Summary *"}),(0,a.jsxs)(A.E,{variant:i.length>1e3?"destructive":"secondary",children:[i.length,"/",1e3]})]}),(0,a.jsx)(w.T,{id:"summary",value:i,placeholder:"Provide a brief summary of your issue in 1-2 sentences...",onChange:e=>J("summary",e.target.value),onBlur:()=>O("summary"),className:"min-h-[100px] ".concat(M.summary?"border-red-300 focus:ring-red-200":"border-slate-300 focus:ring-blue-200"),required:!0}),M.summary&&(0,a.jsx)(q,{message:M.summary})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(y.J,{className:"text-lg font-semibold text-slate-700 flex items-center gap-2",children:[(0,a.jsx)(u.A,{className:"h-5 w-5 text-purple-500"}),"Quick Templates"]}),(0,a.jsx)(F.A,{onSelectTemplate:e=>{C(e),_(e=>({...e,content:!0}))}})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(y.J,{className:"text-lg font-semibold text-slate-700",children:"Detailed Description *"}),(0,a.jsxs)(A.E,{variant:h.length<20?"destructive":"secondary",children:[h.length," characters"]})]}),(0,a.jsx)("div",{className:"rounded-lg border-2 ".concat(M.content?"border-red-300":"border-slate-200"),children:(0,a.jsx)(E,{content:h,onChange:e=>J("content",e),placeholder:"Describe your issue in detail. Include context, what you've tried, and what outcome you're looking for..."})}),M.content&&(0,a.jsx)(q,{message:M.content})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x,{className:"h-5 w-5 text-green-600"}),(0,a.jsx)(y.J,{className:"text-lg font-semibold text-slate-700",children:"Tags *"})]}),(0,a.jsx)(D,{value:S,onChange:e=>{if(T(e),z.tags){let e=P();I(t=>({...t,tags:e.tags}))}},onBlur:()=>O("tags"),placeholder:"Add relevant tags (e.g., production, efficiency, manufacturing)",maxTags:5}),(0,a.jsxs)("div",{className:"flex justify-between text-sm text-slate-500",children:[(0,a.jsx)("p",{children:"Add up to 5 relevant tags to help others find your issue"}),(0,a.jsxs)(A.E,{variant:"outline",children:[S.length,"/5"]})]}),M.tags&&(0,a.jsx)(q,{message:M.tags})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"h-5 w-5 text-indigo-600"}),(0,a.jsx)(y.J,{className:"text-lg font-semibold text-slate-700",children:"File Attachments"})]}),(0,a.jsx)(R,{onFilesChange:B,maxFiles:5,maxFileSize:10,acceptedTypes:["image/*","application/pdf"]}),(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"Upload supporting documents, screenshots, or reference materials (Images and PDFs only)"})]}),!L&&Object.keys(z).length>0&&(0,a.jsxs)(k.Fc,{className:"border-amber-200 bg-amber-50",children:[(0,a.jsx)(g,{className:"h-4 w-4 text-amber-600"}),(0,a.jsx)(k.TN,{className:"text-amber-700",children:"Please fix the errors above before submitting your issue."})]}),L&&Object.keys(z).length>0&&(0,a.jsxs)(k.Fc,{className:"border-green-200 bg-green-50",children:[(0,a.jsx)(f.A,{className:"h-4 w-4 text-green-600"}),(0,a.jsx)(k.TN,{className:"text-green-700",children:"Great! Your issue is ready to submit."})]}),(0,a.jsx)("div",{className:"flex justify-end pt-6",children:(0,a.jsx)(d.$,{type:"submit",disabled:s||!L,size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-3 text-lg font-semibold shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50",children:s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.A,{className:"h-5 w-5 mr-2 animate-spin"}),"Creating Issue..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.A,{className:"h-5 w-5 mr-2"}),"Create Issue"]})})})]})})]})}let q=e=>{let{message:t}=e;return(0,a.jsxs)("div",{className:"flex items-center gap-2 text-red-600 text-sm mt-1",children:[(0,a.jsx)(g,{className:"h-4 w-4"}),t]})};function L(){let e=(0,n.useRouter)(),[t,s]=(0,l.useState)(!1),o=(0,i.d4)(e=>e.user.userData),[m]=(0,M.zl)(),u=async t=>{if(!o){c.oR.error("User information not available");return}s(!0);try{(await m({TITLE:null==t?void 0:t.title,SUMMARY:null==t?void 0:t.summary,CONTENT:null==t?void 0:t.content,USER_ID:null==o?void 0:o.EmpID,COMPANY_ID:null==o?void 0:o.CompanyID,TAGS:null==t?void 0:t.tags,Files:null==t?void 0:t.files,FileTypes:null==t?void 0:t.fileTypes}).unwrap())[0].ID&&(c.oR.success("Issue created successfully!"),e.push("/dashboard/issues"))}catch(e){console.error("Issue creation failed:",e),c.oR.error("Failed to create issue. Please try again.")}finally{s(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen p-4",children:[(0,a.jsxs)(d.$,{variant:"ghost",onClick:()=>{e.push("/dashboard/issues/")},className:"mb-4 text-slate-600 hover:text-slate-900 hover:bg-slate-200/50",children:[(0,a.jsx)(r.A,{className:"mr-2 h-4 w-4"}),"Back to Incident"]}),(0,a.jsx)(P,{onSubmit:u,isSubmitting:t})]})}},70463:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[1933,8035,4404,417,9352,1151,6874,6671,6956,1892,3464,715,5619,6708,4451,7358],()=>t(7877)),_N_E=e.O()}]);
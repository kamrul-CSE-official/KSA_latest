(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7641],{1069:(e,t,n)=>{"use strict";function r(e,t,n={}){let i=document.createElement(e);for(let e in Array.isArray(t)?i.classList.add(...t):t&&i.classList.add(t),n)Object.prototype.hasOwnProperty.call(n,e)&&(i[e]=n[e]);return i}function i(e){let t=e.getBoundingClientRect();return{y1:Math.floor(t.top+window.pageYOffset),x1:Math.floor(t.left+window.pageXOffset),x2:Math.floor(t.right+window.pageXOffset),y2:Math.floor(t.bottom+window.pageYOffset)}}function o(e,t){let n=i(e),r=i(t);return{fromTopBorder:r.y1-n.y1,fromLeftBorder:r.x1-n.x1,fromRightBorder:n.x2-r.x2,fromBottomBorder:n.y2-r.y2}}function a(e,t){return t.parentNode.insertBefore(e,t)}function l(e,t=!0){let n=document.createRange(),r=window.getSelection();n.selectNodeContents(e),n.collapse(t),r.removeAllRanges(),r.addRange(n)}n.d(t,{A:()=>f}),function(){var e;try{if("u">typeof document){var t=document.createElement("style");t.nonce=null==(e=document.head.querySelector("meta[property=csp-nonce]"))?void 0:e.content,t.appendChild(document.createTextNode('.tc-wrap{--color-background:#f9f9fb;--color-text-secondary:#7b7e89;--color-border:#e8e8eb;--cell-size:34px;--toolbox-icon-size:18px;--toolbox-padding:6px;--toolbox-aiming-field-size:calc(var(--toolbox-icon-size) + var(--toolbox-padding)*2);border-left:0;position:relative;height:100%;width:100%;margin-top:var(--toolbox-icon-size);box-sizing:border-box;display:grid;grid-template-columns:calc(100% - var(--cell-size)) var(--cell-size);z-index:0}.tc-wrap--readonly{grid-template-columns:100% var(--cell-size)}.tc-wrap svg{vertical-align:top}@media print{.tc-wrap{border-left-color:var(--color-border);border-left-style:solid;border-left-width:1px;grid-template-columns:100% var(--cell-size)}}@media print{.tc-wrap .tc-row:after{display:none}}.tc-table{position:relative;width:100%;height:100%;display:grid;font-size:14px;border-top:1px solid var(--color-border);line-height:1.4}.tc-table:after{width:calc(var(--cell-size));height:100%;left:calc(var(--cell-size)*-1);top:0}.tc-table:after,.tc-table:before{position:absolute;content:""}.tc-table:before{width:100%;height:var(--toolbox-aiming-field-size);top:calc(var(--toolbox-aiming-field-size)*-1);left:0}.tc-table--heading .tc-row:first-child{font-weight:600;border-bottom:2px solid var(--color-border)}.tc-table--heading .tc-row:first-child [contenteditable]:empty:before{content:attr(heading);color:var(--color-text-secondary)}.tc-table--heading .tc-row:first-child:after{bottom:-2px;border-bottom:2px solid var(--color-border)}.tc-add-column,.tc-add-row{display:flex;color:var(--color-text-secondary)}@media print{.tc-add{display:none}}.tc-add-column{padding:4px 0;justify-content:center;border-top:1px solid var(--color-border)}.tc-add-column--disabled{visibility:hidden}@media print{.tc-add-column{display:none}}.tc-add-row{height:var(--cell-size);align-items:center;padding-left:4px;position:relative}.tc-add-row--disabled{display:none}.tc-add-row:before{content:"";position:absolute;right:calc(var(--cell-size)*-1);width:var(--cell-size);height:100%}@media print{.tc-add-row{display:none}}.tc-add-column,.tc-add-row{transition:0s;cursor:pointer;will-change:background-color}.tc-add-column:hover,.tc-add-row:hover{transition:background-color .1s ease;background-color:var(--color-background)}.tc-add-row{margin-top:1px}.tc-add-row:hover:before{transition:.1s;background-color:var(--color-background)}.tc-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(10px,1fr));position:relative;border-bottom:1px solid var(--color-border)}.tc-row:after{content:"";pointer-events:none;position:absolute;width:var(--cell-size);height:100%;bottom:-1px;right:calc(var(--cell-size)*-1);border-bottom:1px solid var(--color-border)}.tc-row--selected{background:var(--color-background)}.tc-row--selected:after{background:var(--color-background)}.tc-cell{border-right:1px solid var(--color-border);padding:6px 12px;overflow:hidden;outline:none;line-break:normal}.tc-cell--selected{background:var(--color-background)}.tc-wrap--readonly .tc-row:after{display:none}.tc-toolbox{--toolbox-padding:6px;--popover-margin:30px;--toggler-click-zone-size:30px;--toggler-dots-color:#7b7e89;--toggler-dots-color-hovered:#1d202b;position:absolute;cursor:pointer;z-index:1;opacity:0;transition:opacity .1s;will-change:left,opacity}.tc-toolbox--column{top:calc(var(--toggler-click-zone-size)*-1);transform:translate(calc(var(--toggler-click-zone-size)*-1/2));will-change:left,opacity}.tc-toolbox--row{left:calc(var(--popover-margin)*-1);transform:translateY(calc(var(--toggler-click-zone-size)*-1/2));margin-top:-1px;will-change:top,opacity}.tc-toolbox--showed{opacity:1}.tc-toolbox .tc-popover{position:absolute;top:0;left:var(--popover-margin)}.tc-toolbox__toggler{display:flex;align-items:center;justify-content:center;width:var(--toggler-click-zone-size);height:var(--toggler-click-zone-size);color:var(--toggler-dots-color);opacity:0;transition:opacity .15s ease;will-change:opacity}.tc-toolbox__toggler:hover{color:var(--toggler-dots-color-hovered)}.tc-toolbox__toggler svg{fill:currentColor}.tc-wrap:hover .tc-toolbox__toggler{opacity:1}.tc-settings .cdx-settings-button{width:50%;margin:0}.tc-popover{--color-border:#eaeaea;--color-background:#fff;--color-background-hover:rgba(232,232,235,.49);--color-background-confirm:#e24a4a;--color-background-confirm-hover:#d54040;--color-text-confirm:#fff;background:var(--color-background);border:1px solid var(--color-border);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;padding:6px;display:none;will-change:opacity,transform}.tc-popover--opened{display:block;animation:menuShowing .1s cubic-bezier(.215,.61,.355,1) forwards}.tc-popover__item{display:flex;align-items:center;padding:2px 14px 2px 2px;border-radius:5px;cursor:pointer;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;user-select:none}.tc-popover__item:hover{background:var(--color-background-hover)}.tc-popover__item:not(:last-of-type){margin-bottom:2px}.tc-popover__item-icon{display:inline-flex;width:26px;height:26px;align-items:center;justify-content:center;background:var(--color-background);border-radius:5px;border:1px solid var(--color-border);margin-right:8px}.tc-popover__item-label{line-height:22px;font-size:14px;font-weight:500}.tc-popover__item--confirm{background:var(--color-background-confirm);color:var(--color-text-confirm)}.tc-popover__item--confirm:hover{background-color:var(--color-background-confirm-hover)}.tc-popover__item--confirm .tc-popover__item-icon{background:var(--color-background-confirm);border-color:#0000001a}.tc-popover__item--confirm .tc-popover__item-icon svg{transition:transform .2s ease-in;transform:rotate(90deg) scale(1.2)}.tc-popover__item--hidden{display:none}@keyframes menuShowing{0%{opacity:0;transform:translateY(-8px) scale(.9)}70%{opacity:1;transform:translateY(2px)}to{transform:translateY(0)}}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}}();class s{constructor({items:e}){this.items=e,this.wrapper=void 0,this.itemEls=[]}static get CSS(){return{popover:"tc-popover",popoverOpened:"tc-popover--opened",item:"tc-popover__item",itemHidden:"tc-popover__item--hidden",itemConfirmState:"tc-popover__item--confirm",itemIcon:"tc-popover__item-icon",itemLabel:"tc-popover__item-label"}}render(){return this.wrapper=r("div",s.CSS.popover),this.items.forEach((e,t)=>{let n=r("div",s.CSS.item),i=r("div",s.CSS.itemIcon,{innerHTML:e.icon}),o=r("div",s.CSS.itemLabel,{textContent:e.label});n.dataset.index=t,n.appendChild(i),n.appendChild(o),this.wrapper.appendChild(n),this.itemEls.push(n)}),this.wrapper.addEventListener("click",e=>{this.popoverClicked(e)}),this.wrapper}popoverClicked(e){let t=e.target.closest(`.${s.CSS.item}`);if(!t)return;let n=t.dataset.index,r=this.items[n];if(r.confirmationRequired&&!this.hasConfirmationState(t)){this.setConfirmationState(t);return}r.onClick()}setConfirmationState(e){e.classList.add(s.CSS.itemConfirmState)}clearConfirmationState(e){e.classList.remove(s.CSS.itemConfirmState)}hasConfirmationState(e){return e.classList.contains(s.CSS.itemConfirmState)}get opened(){return this.wrapper.classList.contains(s.CSS.popoverOpened)}open(){this.items.forEach((e,t)=>{"function"==typeof e.hideIf&&this.itemEls[t].classList.toggle(s.CSS.itemHidden,e.hideIf())}),this.wrapper.classList.add(s.CSS.popoverOpened)}close(){this.wrapper.classList.remove(s.CSS.popoverOpened),this.itemEls.forEach(e=>{this.clearConfirmationState(e)})}}let c='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',d='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>';class u{constructor({api:e,items:t,onOpen:n,onClose:r,cssModifier:i=""}){this.api=e,this.items=t,this.onOpen=n,this.onClose=r,this.cssModifier=i,this.popover=null,this.wrapper=this.createToolbox()}static get CSS(){return{toolbox:"tc-toolbox",toolboxShowed:"tc-toolbox--showed",toggler:"tc-toolbox__toggler"}}get element(){return this.wrapper}createToolbox(){let e=r("div",[u.CSS.toolbox,this.cssModifier?`${u.CSS.toolbox}--${this.cssModifier}`:""]);e.dataset.mutationFree="true";let t=this.createPopover(),n=this.createToggler();return e.appendChild(n),e.appendChild(t),e}createToggler(){let e=r("div",u.CSS.toggler,{innerHTML:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.41 9.66H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 9.66H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.31 14.36H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 14.36H14.59"/></svg>'});return e.addEventListener("click",()=>{this.togglerClicked()}),e}createPopover(){return this.popover=new s({items:this.items}),this.popover.render()}togglerClicked(){this.popover.opened?(this.popover.close(),this.onClose()):(this.popover.open(),this.onOpen())}show(e){Object.entries(e()).forEach(([e,t])=>{this.wrapper.style[e]=t}),this.wrapper.classList.add(u.CSS.toolboxShowed)}hide(){this.popover.close(),this.wrapper.classList.remove(u.CSS.toolboxShowed)}}let p={wrapper:"tc-wrap",wrapperReadOnly:"tc-wrap--readonly",table:"tc-table",row:"tc-row",withHeadings:"tc-table--heading",rowSelected:"tc-row--selected",cell:"tc-cell",cellSelected:"tc-cell--selected",addRow:"tc-add-row",addRowDisabled:"tc-add-row--disabled",addColumn:"tc-add-column",addColumnDisabled:"tc-add-column--disabled"};class h{constructor(e,t,n,r){this.readOnly=e,this.api=t,this.data=n,this.config=r,this.wrapper=null,this.table=null,this.toolboxColumn=this.createColumnToolbox(),this.toolboxRow=this.createRowToolbox(),this.createTableWrapper(),this.hoveredRow=0,this.hoveredColumn=0,this.selectedRow=0,this.selectedColumn=0,this.tunes={withHeadings:!1},this.resize(),this.fill(),this.focusedCell={row:0,column:0},this.documentClicked=e=>{let t=null!==e.target.closest(`.${p.table}`),n=null===e.target.closest(`.${p.wrapper}`);(t||n)&&this.hideToolboxes();let r=e.target.closest(`.${p.addRow}`),i=e.target.closest(`.${p.addColumn}`);r&&r.parentNode===this.wrapper?(this.addRow(void 0,!0),this.hideToolboxes()):i&&i.parentNode===this.wrapper&&(this.addColumn(void 0,!0),this.hideToolboxes())},this.readOnly||this.bindEvents()}getWrapper(){return this.wrapper}bindEvents(){var e;let t;document.addEventListener("click",this.documentClicked),this.table.addEventListener("mousemove",(e=e=>this.onMouseMoveInTable(e),t=0,function(...n){let r=new Date().getTime();if(!(r-t<150))return t=r,e(...n)}),{passive:!0}),this.table.onkeypress=e=>this.onKeyPressListener(e),this.table.addEventListener("keydown",e=>this.onKeyDownListener(e)),this.table.addEventListener("focusin",e=>this.focusInTableListener(e))}createColumnToolbox(){return new u({api:this.api,cssModifier:"column",items:[{label:this.api.i18n.t("Add column to left"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.9167 14.9167L11.5833 18.25M11.5833 18.25L8.25 14.9167M11.5833 18.25L11.5833 10.0833C11.5833 9.19928 11.9345 8.35143 12.5596 7.72631C13.1848 7.10119 14.0326 6.75 14.9167 6.75"/></svg>',hideIf:()=>this.numberOfColumns===this.config.maxcols,onClick:()=>{this.addColumn(this.selectedColumn,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Add column to right"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.13333 14.9167L12.4667 18.25M12.4667 18.25L15.8 14.9167M12.4667 18.25L12.4667 10.0833C12.4667 9.19928 12.1155 8.35143 11.4904 7.72631C10.8652 7.10119 10.0174 6.75 9.13333 6.75"/></svg>',hideIf:()=>this.numberOfColumns===this.config.maxcols,onClick:()=>{this.addColumn(this.selectedColumn+1,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Delete column"),icon:c,hideIf:()=>1===this.numberOfColumns,confirmationRequired:!0,onClick:()=>{this.deleteColumn(this.selectedColumn),this.hideToolboxes()}}],onOpen:()=>{this.selectColumn(this.hoveredColumn),this.hideRowToolbox()},onClose:()=>{this.unselectColumn()}})}createRowToolbox(){return new u({api:this.api,cssModifier:"row",items:[{label:this.api.i18n.t("Add row above"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 15.8333L18.2167 12.5M18.2167 12.5L14.8833 9.16667M18.2167 12.5L10.05 12.5C9.16595 12.5 8.31811 12.8512 7.69299 13.4763C7.06787 14.1014 6.71667 14.9493 6.71667 15.8333"/></svg>',hideIf:()=>this.numberOfRows===this.config.maxrows,onClick:()=>{this.addRow(this.selectedRow,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Add row below"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 9.16666L18.2167 12.5M18.2167 12.5L14.8833 15.8333M18.2167 12.5H10.05C9.16594 12.5 8.31809 12.1488 7.69297 11.5237C7.06785 10.8986 6.71666 10.0507 6.71666 9.16666"/></svg>',hideIf:()=>this.numberOfRows===this.config.maxrows,onClick:()=>{this.addRow(this.selectedRow+1,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Delete row"),icon:c,hideIf:()=>1===this.numberOfRows,confirmationRequired:!0,onClick:()=>{this.deleteRow(this.selectedRow),this.hideToolboxes()}}],onOpen:()=>{this.selectRow(this.hoveredRow),this.hideColumnToolbox()},onClose:()=>{this.unselectRow()}})}moveCursorToNextRow(){this.focusedCell.row!==this.numberOfRows?(this.focusedCell.row+=1,this.focusCell(this.focusedCell)):(this.addRow(),this.focusedCell.row+=1,this.focusCell(this.focusedCell),this.updateToolboxesPosition(0,0))}getCell(e,t){return this.table.querySelectorAll(`.${p.row}:nth-child(${e}) .${p.cell}`)[t-1]}getRow(e){return this.table.querySelector(`.${p.row}:nth-child(${e})`)}getRowByCell(e){return e.parentElement}getRowFirstCell(e){return e.querySelector(`.${p.cell}:first-child`)}setCellContent(e,t,n){this.getCell(e,t).innerHTML=n}addColumn(e=-1,t=!1){var n;let r=this.numberOfColumns;if(this.config&&this.config.maxcols&&this.numberOfColumns>=this.config.maxcols)return;for(let n=1;n<=this.numberOfRows;n++){let i;let o=this.createCell();if(e>0&&e<=r?a(o,this.getCell(n,e)):this.getRow(n).appendChild(o),1===n){let i=this.getCell(n,e>0?e:r+1);i&&t&&l(i)}}let i=this.wrapper.querySelector(`.${p.addColumn}`);null!=(n=this.config)&&n.maxcols&&this.numberOfColumns>this.config.maxcols-1&&i&&i.classList.add(p.addColumnDisabled),this.addHeadingAttrToFirstRow()}addRow(e=-1,t=!1){let n,i=r("div",p.row);this.tunes.withHeadings&&this.removeHeadingAttrFromFirstRow();let o=this.numberOfColumns;if(this.config&&this.config.maxrows&&this.numberOfRows>=this.config.maxrows&&c)return;n=e>0&&e<=this.numberOfRows?a(i,this.getRow(e)):this.table.appendChild(i),this.fillRow(n,o),this.tunes.withHeadings&&this.addHeadingAttrToFirstRow();let s=this.getRowFirstCell(n);s&&t&&l(s);let c=this.wrapper.querySelector(`.${p.addRow}`);return this.config&&this.config.maxrows&&this.numberOfRows>=this.config.maxrows&&c&&c.classList.add(p.addRowDisabled),n}deleteColumn(e){for(let t=1;t<=this.numberOfRows;t++){let n=this.getCell(t,e);if(!n)return;n.remove()}let t=this.wrapper.querySelector(`.${p.addColumn}`);t&&t.classList.remove(p.addColumnDisabled)}deleteRow(e){this.getRow(e).remove();let t=this.wrapper.querySelector(`.${p.addRow}`);t&&t.classList.remove(p.addRowDisabled),this.addHeadingAttrToFirstRow()}createTableWrapper(){if(this.wrapper=r("div",p.wrapper),this.table=r("div",p.table),this.readOnly&&this.wrapper.classList.add(p.wrapperReadOnly),this.wrapper.appendChild(this.toolboxRow.element),this.wrapper.appendChild(this.toolboxColumn.element),this.wrapper.appendChild(this.table),!this.readOnly){let e=r("div",p.addColumn,{innerHTML:d}),t=r("div",p.addRow,{innerHTML:d});this.wrapper.appendChild(e),this.wrapper.appendChild(t)}}computeInitialSize(){let e=this.data&&this.data.content,t=Array.isArray(e),n=!!t&&e.length,r=t?e.length:void 0,i=n?e[0].length:void 0,o=Number.parseInt(this.config&&this.config.rows),a=Number.parseInt(this.config&&this.config.cols),l=!isNaN(o)&&o>0?o:void 0,s=!isNaN(a)&&a>0?a:void 0;return{rows:r||l||2,cols:i||s||2}}resize(){let{rows:e,cols:t}=this.computeInitialSize();for(let t=0;t<e;t++)this.addRow();for(let e=0;e<t;e++)this.addColumn()}fill(){let e=this.data;if(e&&e.content)for(let t=0;t<e.content.length;t++)for(let n=0;n<e.content[t].length;n++)this.setCellContent(t+1,n+1,e.content[t][n])}fillRow(e,t){for(let n=1;n<=t;n++){let t=this.createCell();e.appendChild(t)}}createCell(){return r("div",p.cell,{contentEditable:!this.readOnly})}get numberOfRows(){return this.table.childElementCount}get numberOfColumns(){return this.numberOfRows?this.table.querySelectorAll(`.${p.row}:first-child .${p.cell}`).length:0}get isColumnMenuShowing(){return 0!==this.selectedColumn}get isRowMenuShowing(){return 0!==this.selectedRow}onMouseMoveInTable(e){let{row:t,column:n}=this.getHoveredCell(e);this.hoveredColumn=n,this.hoveredRow=t,this.updateToolboxesPosition()}onKeyPressListener(e){if("Enter"===e.key){if(e.shiftKey)return!0;this.moveCursorToNextRow()}return"Enter"!==e.key}onKeyDownListener(e){"Tab"===e.key&&e.stopPropagation()}focusInTableListener(e){let t=e.target,n=this.getRowByCell(t);this.focusedCell={row:Array.from(this.table.querySelectorAll(`.${p.row}`)).indexOf(n)+1,column:Array.from(n.querySelectorAll(`.${p.cell}`)).indexOf(t)+1}}hideToolboxes(){this.hideRowToolbox(),this.hideColumnToolbox(),this.updateToolboxesPosition()}hideRowToolbox(){this.unselectRow(),this.toolboxRow.hide()}hideColumnToolbox(){this.unselectColumn(),this.toolboxColumn.hide()}focusCell(){this.focusedCellElem.focus()}get focusedCellElem(){let{row:e,column:t}=this.focusedCell;return this.getCell(e,t)}updateToolboxesPosition(e=this.hoveredRow,t=this.hoveredColumn){this.isColumnMenuShowing||t>0&&t<=this.numberOfColumns&&this.toolboxColumn.show(()=>({left:`calc((100% - var(--cell-size)) / (${this.numberOfColumns} * 2) * (1 + (${t} - 1) * 2))`})),this.isRowMenuShowing||e>0&&e<=this.numberOfRows&&this.toolboxRow.show(()=>{let t=this.getRow(e),{fromTopBorder:n}=o(this.table,t),{height:r}=t.getBoundingClientRect();return{top:`${Math.ceil(n+r/2)}px`}})}setHeadingsSetting(e){this.tunes.withHeadings=e,e?(this.table.classList.add(p.withHeadings),this.addHeadingAttrToFirstRow()):(this.table.classList.remove(p.withHeadings),this.removeHeadingAttrFromFirstRow())}addHeadingAttrToFirstRow(){for(let e=1;e<=this.numberOfColumns;e++){let t=this.getCell(1,e);t&&t.setAttribute("heading",this.api.i18n.t("Heading"))}}removeHeadingAttrFromFirstRow(){for(let e=1;e<=this.numberOfColumns;e++){let t=this.getCell(1,e);t&&t.removeAttribute("heading")}}selectRow(e){let t=this.getRow(e);t&&(this.selectedRow=e,t.classList.add(p.rowSelected))}unselectRow(){if(this.selectedRow<=0)return;let e=this.table.querySelector(`.${p.rowSelected}`);e&&e.classList.remove(p.rowSelected),this.selectedRow=0}selectColumn(e){for(let t=1;t<=this.numberOfRows;t++){let n=this.getCell(t,e);n&&n.classList.add(p.cellSelected)}this.selectedColumn=e}unselectColumn(){!(this.selectedColumn<=0)&&(Array.from(this.table.querySelectorAll(`.${p.cellSelected}`)).forEach(e=>{e.classList.remove(p.cellSelected)}),this.selectedColumn=0)}getHoveredCell(e){let t=this.hoveredRow,n=this.hoveredColumn,{width:r,height:i,x:o,y:a}=function(e,t){let{width:n,height:r,x:i,y:o}=e.getBoundingClientRect(),{clientX:a,clientY:l}=t;return{width:n,height:r,x:a-i,y:l-o}}(this.table,e);return o>=0&&(n=this.binSearch(this.numberOfColumns,e=>this.getCell(1,e),({fromLeftBorder:e})=>o<e,({fromRightBorder:e})=>o>r-e)),a>=0&&(t=this.binSearch(this.numberOfRows,e=>this.getCell(e,1),({fromTopBorder:e})=>a<e,({fromBottomBorder:e})=>a>i-e)),{row:t||this.hoveredRow,column:n||this.hoveredColumn}}binSearch(e,t,n,r){let i=0,a=e+1,l=0,s;for(;i<a-1&&l<10;){let e=t(s=Math.ceil((i+a)/2)),c=o(this.table,e);if(n(c))a=s;else if(r(c))i=s;else break;l++}return s}getData(){let e=[];for(let t=1;t<=this.numberOfRows;t++){let n=Array.from(this.table.querySelector(`.${p.row}:nth-child(${t})`).querySelectorAll(`.${p.cell}`));n.every(e=>!e.textContent.trim())||e.push(n.map(e=>e.innerHTML))}return e}destroy(){document.removeEventListener("click",this.documentClicked)}}class f{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}constructor({data:e,config:t,api:n,readOnly:r,block:i}){this.api=n,this.readOnly=r,this.config=t,this.data={withHeadings:this.getConfig("withHeadings",!1,e),stretched:this.getConfig("stretched",!1,e),content:e&&e.content?e.content:[]},this.table=null,this.block=i}static get toolbox(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',title:"Table"}}render(){return this.table=new h(this.readOnly,this.api,this.data,this.config),this.container=r("div",this.api.styles.block),this.container.appendChild(this.table.getWrapper()),this.table.setHeadingsSetting(this.data.withHeadings),this.container}renderSettings(){return[{label:this.api.i18n.t("With headings"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',isActive:this.data.withHeadings,closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.withHeadings=!0,this.table.setHeadingsSetting(this.data.withHeadings)}},{label:this.api.i18n.t("Without headings"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M14 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><path stroke="currentColor" stroke-width="2" d="M5 14H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',isActive:!this.data.withHeadings,closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.withHeadings=!1,this.table.setHeadingsSetting(this.data.withHeadings)}},{label:this.data.stretched?this.api.i18n.t("Collapse"):this.api.i18n.t("Stretch"),icon:this.data.stretched?'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L10 12M10 12L7 15M10 12H4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L14 12M14 12L17 15M14 12H20"/></svg>':'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>',closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.stretched=!this.data.stretched,this.block.stretched=this.data.stretched}}]}save(){let e=this.table.getData();return{withHeadings:this.data.withHeadings,stretched:this.data.stretched,content:e}}destroy(){this.table.destroy()}getConfig(e,t,n){let r=this.data||n;return r?r[e]?r[e]:t:this.config&&this.config[e]?this.config[e]:t}static get pasteConfig(){return{tags:["TABLE","TR","TH","TD"]}}onPaste(e){let t=e.detail.data,n=t.querySelector(":scope > thead, tr:first-of-type th"),r=Array.from(t.querySelectorAll("tr")).map(e=>Array.from(e.querySelectorAll("th, td")).map(e=>e.innerHTML));this.data={withHeadings:null!==n,content:r},this.table.wrapper&&this.table.wrapper.replaceWith(this.render())}}},1565:(e,t,n)=>{"use strict";n.d(t,{A:()=>r}),function(){try{if("u">typeof document){var e=document.createElement("style");e.appendChild(document.createTextNode(".ce-paragraph{line-height:1.6em;outline:none}.ce-block:only-of-type .ce-paragraph[data-placeholder-active]:empty:before,.ce-block:only-of-type .ce-paragraph[data-placeholder-active][data-empty=true]:before{content:attr(data-placeholder-active)}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}")),document.head.appendChild(e)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}}();class r{static get DEFAULT_PLACEHOLDER(){return""}constructor({data:e,config:t,api:n,readOnly:i}){this.api=n,this.readOnly=i,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=t.placeholder?t.placeholder:r.DEFAULT_PLACEHOLDER,this._data=e??{},this._element=null,this._preserveBlank=t.preserveBlank??!1}onKeyUp(e){if("Backspace"!==e.code&&"Delete"!==e.code||!this._element)return;let{textContent:t}=this._element;""===t&&(this._element.innerHTML="")}drawView(){let e=document.createElement("DIV");return e.classList.add(this._CSS.wrapper,this._CSS.block),e.contentEditable="false",e.dataset.placeholderActive=this.api.i18n.t(this._placeholder),this._data.text&&(e.innerHTML=this._data.text),this.readOnly||(e.contentEditable="true",e.addEventListener("keyup",this.onKeyUp)),e}render(){return this._element=this.drawView(),this._element}merge(e){if(!this._element)return;this._data.text+=e.text;let t=function(e){let t=document.createElement("div");t.innerHTML=e.trim();let n=document.createDocumentFragment();return n.append(...Array.from(t.childNodes)),n}(e.text);this._element.appendChild(t),this._element.normalize()}validate(e){return!(""===e.text.trim()&&!this._preserveBlank)}save(e){return{text:e.innerHTML}}onPaste(e){let t={text:e.detail.data.innerHTML};this._data=t,window.requestAnimationFrame(()=>{this._element&&(this._element.innerHTML=this._data.text||"")})}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0}}}static get isReadOnlySupported(){return!0}static get pasteConfig(){return{tags:["P"]}}static get toolbox(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>',title:"Text"}}}},4229:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=(0,n(19946).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},4969:(e,t,n)=>{"use strict";n.d(t,{A:()=>r}),function(){try{if("u">typeof document){var e=document.createElement("style");e.appendChild(document.createTextNode(".ce-code__textarea{min-height:200px;font-family:Menlo,Monaco,Consolas,Courier New,monospace;color:#41314e;line-height:1.6em;font-size:12px;background:#f8f7fa;border:1px solid #f1f1f4;box-shadow:none;white-space:pre;word-wrap:normal;overflow-x:auto;resize:vertical}")),document.head.appendChild(e)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}}();class r{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}constructor({data:e,config:t,api:n,readOnly:i}){this.api=n,this.readOnly=i,this.placeholder=this.api.i18n.t(t.placeholder||r.DEFAULT_PLACEHOLDER),this.CSS={baseClass:this.api.styles.block,input:this.api.styles.input,wrapper:"ce-code",textarea:"ce-code__textarea"},this.nodes={holder:null,textarea:null},this.data={code:e.code??""},this.nodes.holder=this.drawView()}render(){return this.nodes.holder}save(e){return{code:e.querySelector("textarea").value}}onPaste(e){let t=e.detail;if("data"in t){let e=t.data;this.data={code:e||""}}}get data(){return this._data}set data(e){this._data=e,this.nodes.textarea&&(this.nodes.textarea.value=e.code)}static get toolbox(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 8L5 12L9 16"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8L19 12L15 16"/></svg>',title:"Code"}}static get DEFAULT_PLACEHOLDER(){return"Enter a code"}static get pasteConfig(){return{tags:["pre"]}}static get sanitize(){return{code:!0}}tabHandler(e){let t;e.stopPropagation(),e.preventDefault();let n=e.target,r=e.shiftKey,i=n.selectionStart,o=n.value;if(r){let e=function(e,t){let n="";for(;n!==`
`&&t>0;)t-=1,n=e.substr(t,1);return n===`
`&&(t+=1),t}(o,i);if("  "!==o.substr(e,2))return;n.value=o.substring(0,e)+o.substring(e+2),t=i-2}else t=i+2,n.value=o.substring(0,i)+"  "+o.substring(i);n.setSelectionRange(t,t)}drawView(){let e=document.createElement("div"),t=document.createElement("textarea");return e.classList.add(this.CSS.baseClass,this.CSS.wrapper),t.classList.add(this.CSS.textarea,this.CSS.input),t.value=this.data.code,t.placeholder=this.placeholder,this.readOnly&&(t.disabled=!0),e.appendChild(t),t.addEventListener("keydown",e=>{"Tab"===e.code&&this.tabHandler(e)}),this.nodes.textarea=t,e}}},6957:(e,t,n)=>{"use strict";n.d(t,{A:()=>eu}),function(){try{if("u">typeof document){var e=document.createElement("style");e.appendChild(document.createTextNode(".cdx-quote-icon svg{transform:rotate(180deg)}.cdx-quote{margin:0}.cdx-quote__text{min-height:158px;margin-bottom:10px}.cdx-quote [contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.cdx-quote [contentEditable=true][data-placeholder]:empty:before{opacity:1}.cdx-quote [contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.cdx-quote-settings{display:flex}.cdx-quote-settings .cdx-settings-button{width:50%}")),document.head.appendChild(e)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}}();var r="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof global?global:"u">typeof self?self:{},i={},o={},a={};Object.defineProperty(a,"__esModule",{value:!0}),a.allInputsSelector=function(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(function(e){return'input[type="'.concat(e,'"]')}).join(", ")},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.allInputsSelector=void 0,Object.defineProperty(e,"allInputsSelector",{enumerable:!0,get:function(){return a.allInputsSelector}})}(o);var l={},s={};Object.defineProperty(s,"__esModule",{value:!0}),s.isNativeInput=function(e){return!!e&&!!e.tagName&&["INPUT","TEXTAREA"].includes(e.tagName)},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isNativeInput=void 0,Object.defineProperty(e,"isNativeInput",{enumerable:!0,get:function(){return s.isNativeInput}})}(l);var c={},d={};Object.defineProperty(d,"__esModule",{value:!0}),d.append=function(e,t){Array.isArray(t)?t.forEach(function(t){e.appendChild(t)}):e.appendChild(t)},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.append=void 0,Object.defineProperty(e,"append",{enumerable:!0,get:function(){return d.append}})}(c);var u={},p={};Object.defineProperty(p,"__esModule",{value:!0}),p.blockElements=function(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.blockElements=void 0,Object.defineProperty(e,"blockElements",{enumerable:!0,get:function(){return p.blockElements}})}(u);var h={},f={};Object.defineProperty(f,"__esModule",{value:!0}),f.calculateBaseline=function(e){var t=window.getComputedStyle(e),n=parseFloat(t.fontSize),r=parseFloat(t.lineHeight)||1.2*n,i=parseFloat(t.paddingTop),o=parseFloat(t.borderTopWidth);return parseFloat(t.marginTop)+o+i+(r-n)/2+.8*n},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.calculateBaseline=void 0,Object.defineProperty(e,"calculateBaseline",{enumerable:!0,get:function(){return f.calculateBaseline}})}(h);var g={},m={},b={},v={};Object.defineProperty(v,"__esModule",{value:!0}),v.isContentEditable=function(e){return"true"===e.contentEditable},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isContentEditable=void 0,Object.defineProperty(e,"isContentEditable",{enumerable:!0,get:function(){return v.isContentEditable}})}(b),Object.defineProperty(m,"__esModule",{value:!0}),m.canSetCaret=function(e){var t=!0;if((0,l.isNativeInput)(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":t=!1}else t=(0,b.isContentEditable)(e);return t},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.canSetCaret=void 0,Object.defineProperty(e,"canSetCaret",{enumerable:!0,get:function(){return m.canSetCaret}})}(g);var y={},w={};function C(){let e={win:!1,mac:!1,x11:!1,linux:!1},t=Object.keys(e).find(e=>-1!==window.navigator.appVersion.toLowerCase().indexOf(e));return void 0!==t&&(e[t]=!0),e}function k(e){return null!=e&&""!==e&&("object"!=typeof e||Object.keys(e).length>0)}function _(e){return Object.prototype.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function x(e){return"function"===_(e)||"asyncfunction"===_(e)}function O(e){return"object"===_(e)}class S{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((t,n)=>{this.completed=this.completed.then(e).then(t).catch(n)})}}let E=function(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}),n}(Object.freeze(Object.defineProperty({__proto__:null,PromiseQueue:S,beautifyShortcut:function(e){let t=C();return e=e.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi,"+"),e=t.mac?e.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):e.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN")},cacheable:function(e,t,n){let r=void 0!==n.value?"value":"get",i=n[r],o=`#${t}Cache`;if(n[r]=function(...e){return void 0===this[o]&&(this[o]=i.apply(this,e)),this[o]},"get"===r&&n.set){let t=n.set;n.set=function(n){delete e[o],t.apply(this,n)}}return n},capitalize:function(e){return e[0].toUpperCase()+e.slice(1)},copyTextToClipboard:function(e){let t=document.createElement("div");t.style.position="absolute",t.style.left="-999px",t.style.bottom="-999px",t.innerHTML=e,document.body.appendChild(t);let n=window.getSelection(),r=document.createRange();if(r.selectNode(t),null===n)throw Error("Cannot copy text to clipboard");n.removeAllRanges(),n.addRange(r),document.execCommand("copy"),document.body.removeChild(t)},debounce:function(e,t,n){let r;return(...i)=>{let o=this,a=!0===n&&void 0!==r;window.clearTimeout(r),r=window.setTimeout(()=>{r=void 0,!0!==n&&e.apply(o,i)},t),a&&e.apply(o,i)}},deepMerge:function e(t,...n){if(!n.length)return t;let r=n.shift();if(O(t)&&O(r))for(let n in r)O(r[n])?(void 0===t[n]&&Object.assign(t,{[n]:{}}),e(t[n],r[n])):Object.assign(t,{[n]:r[n]});return e(t,...n)},deprecationAssert:function(e,t,n){let r=`\xab${t}\xbb is deprecated and will be removed in the next major release. Please use the \xab${n}\xbb instead.`;e&&console.warn(r)},getUserOS:C,getValidUrl:function(e){try{return new URL(e).href}catch{}return"//"===e.substring(0,2)?window.location.protocol+e:window.location.origin+e},isBoolean:function(e){return"boolean"===_(e)},isClass:function(e){return x(e)&&/^\s*class\s+/.test(e.toString())},isEmpty:function(e){return!k(e)},isFunction:x,isIosDevice:()=>"u">typeof window&&null!==window.navigator&&k(window.navigator.platform)&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),isNumber:function(e){return"number"===_(e)},isObject:O,isPrintableKey:function(e){return e>47&&e<58||32===e||13===e||229===e||e>64&&e<91||e>95&&e<112||e>185&&e<193||e>218&&e<223},isPromise:function(e){return Promise.resolve(e)===e},isString:function(e){return"string"===_(e)},isUndefined:function(e){return"undefined"===_(e)},keyCodes:{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},mouseButtons:{LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4},notEmpty:k,throttle:function(e,t,n){let r,i,o,a=null,l=0;n||(n={});let s=function(){l=!1===n.leading?0:Date.now(),a=null,o=e.apply(r,i),null===a&&(r=i=null)};return function(){let c=Date.now();l||!1!==n.leading||(l=c);let d=t-(c-l);return r=this,i=arguments,d<=0||d>t?(a&&(clearTimeout(a),a=null),l=c,o=e.apply(r,i),null===a&&(r=i=null)):a||!1===n.trailing||(a=setTimeout(s,d)),o}},typeOf:_},Symbol.toStringTag,{value:"Module"})));Object.defineProperty(w,"__esModule",{value:!0}),w.containsOnlyInlineElements=function(e){(0,E.isString)(e)?(t=document.createElement("div")).innerHTML=e:t=e;var t,n=function(e){return!(0,u.blockElements)().includes(e.tagName.toLowerCase())&&Array.from(e.children).every(n)};return Array.from(t.children).every(n)},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.containsOnlyInlineElements=void 0,Object.defineProperty(e,"containsOnlyInlineElements",{enumerable:!0,get:function(){return w.containsOnlyInlineElements}})}(y);var M={},L={},T={},j={};Object.defineProperty(j,"__esModule",{value:!0}),j.make=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n={});var r,i=document.createElement(e);if(Array.isArray(t)){var o=t.filter(function(e){return void 0!==e});(r=i.classList).add.apply(r,o)}else null!==t&&i.classList.add(t);for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a]);return i},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.make=void 0,Object.defineProperty(e,"make",{enumerable:!0,get:function(){return j.make}})}(T),Object.defineProperty(L,"__esModule",{value:!0}),L.fragmentToString=function(e){var t=(0,T.make)("div");return t.appendChild(e),t.innerHTML},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fragmentToString=void 0,Object.defineProperty(e,"fragmentToString",{enumerable:!0,get:function(){return L.fragmentToString}})}(M);var P={},A={};Object.defineProperty(A,"__esModule",{value:!0}),A.getContentLength=function(e){var t,n;return(0,l.isNativeInput)(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:null!==(n=null===(t=e.textContent)||void 0===t?void 0:t.length)&&void 0!==n?n:0},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getContentLength=void 0,Object.defineProperty(e,"getContentLength",{enumerable:!0,get:function(){return A.getContentLength}})}(P);var I={},N={},R=r&&r.__spreadArray||function(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(N,"__esModule",{value:!0}),N.getDeepestBlockElements=function e(t){return(0,y.containsOnlyInlineElements)(t)?[t]:Array.from(t.children).reduce(function(t,n){return R(R([],t,!0),e(n),!0)},[])},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getDeepestBlockElements=void 0,Object.defineProperty(e,"getDeepestBlockElements",{enumerable:!0,get:function(){return N.getDeepestBlockElements}})}(I);var H={},B={},D={},F={};Object.defineProperty(F,"__esModule",{value:!0}),F.isLineBreakTag=function(e){return["BR","WBR"].includes(e.tagName)},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isLineBreakTag=void 0,Object.defineProperty(e,"isLineBreakTag",{enumerable:!0,get:function(){return F.isLineBreakTag}})}(D);var W={},$={};Object.defineProperty($,"__esModule",{value:!0}),$.isSingleTag=function(e){return["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isSingleTag=void 0,Object.defineProperty(e,"isSingleTag",{enumerable:!0,get:function(){return $.isSingleTag}})}(W),Object.defineProperty(B,"__esModule",{value:!0}),B.getDeepestNode=function e(t,n){void 0===n&&(n=!1);var r=n?"lastChild":"firstChild",i=n?"previousSibling":"nextSibling";if(t.nodeType===Node.ELEMENT_NODE&&t[r]){var o=t[r];if((0,W.isSingleTag)(o)&&!(0,l.isNativeInput)(o)&&!(0,D.isLineBreakTag)(o)){if(o[i])o=o[i];else{if(null===o.parentNode||!o.parentNode[i])return o.parentNode;o=o.parentNode[i]}}return e(o,n)}return t},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getDeepestNode=void 0,Object.defineProperty(e,"getDeepestNode",{enumerable:!0,get:function(){return B.getDeepestNode}})}(H);var z={},q={},U=r&&r.__spreadArray||function(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(q,"__esModule",{value:!0}),q.findAllInputs=function(e){return Array.from(e.querySelectorAll((0,o.allInputsSelector)())).reduce(function(e,t){return(0,l.isNativeInput)(t)||(0,y.containsOnlyInlineElements)(t)?U(U([],e,!0),[t],!1):U(U([],e,!0),(0,I.getDeepestBlockElements)(t),!0)},[])},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.findAllInputs=void 0,Object.defineProperty(e,"findAllInputs",{enumerable:!0,get:function(){return q.findAllInputs}})}(z);var V={},K={};Object.defineProperty(K,"__esModule",{value:!0}),K.isCollapsedWhitespaces=function(e){return!/[^\t\n\r ]/.test(e)},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isCollapsedWhitespaces=void 0,Object.defineProperty(e,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return K.isCollapsedWhitespaces}})}(V);var X={},G={};Object.defineProperty(G,"__esModule",{value:!0}),G.isElement=function(e){return!(0,E.isNumber)(e)&&!!e&&!!e.nodeType&&e.nodeType===Node.ELEMENT_NODE},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isElement=void 0,Object.defineProperty(e,"isElement",{enumerable:!0,get:function(){return G.isElement}})}(X);var Y={},J={},Q={},Z={};Object.defineProperty(Z,"__esModule",{value:!0}),Z.isLeaf=function(e){return null!==e&&0===e.childNodes.length},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isLeaf=void 0,Object.defineProperty(e,"isLeaf",{enumerable:!0,get:function(){return Z.isLeaf}})}(Q);var ee={},et={};Object.defineProperty(et,"__esModule",{value:!0}),et.isNodeEmpty=function(e,t){var n="";return(!(0,W.isSingleTag)(e)||!!(0,D.isLineBreakTag)(e))&&((0,X.isElement)(e)&&(0,l.isNativeInput)(e)?n=e.value:null!==e.textContent&&(n=e.textContent.replace("​","")),void 0!==t&&(n=n.replace(RegExp(t,"g"),"")),0===n.trim().length)},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeEmpty=void 0,Object.defineProperty(e,"isNodeEmpty",{enumerable:!0,get:function(){return et.isNodeEmpty}})}(ee),Object.defineProperty(J,"__esModule",{value:!0}),J.isEmpty=function(e,t){e.normalize();for(var n=[e];n.length>0;){var r=n.shift();if(r){if(e=r,(0,Q.isLeaf)(e)&&!(0,ee.isNodeEmpty)(e,t))return!1;n.push.apply(n,Array.from(e.childNodes))}}return!0},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isEmpty=void 0,Object.defineProperty(e,"isEmpty",{enumerable:!0,get:function(){return J.isEmpty}})}(Y);var en={},er={};Object.defineProperty(er,"__esModule",{value:!0}),er.isFragment=function(e){return!(0,E.isNumber)(e)&&!!e&&!!e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isFragment=void 0,Object.defineProperty(e,"isFragment",{enumerable:!0,get:function(){return er.isFragment}})}(en);var ei={},eo={};Object.defineProperty(eo,"__esModule",{value:!0}),eo.isHTMLString=function(e){var t=(0,T.make)("div");return t.innerHTML=e,t.childElementCount>0},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isHTMLString=void 0,Object.defineProperty(e,"isHTMLString",{enumerable:!0,get:function(){return eo.isHTMLString}})}(ei);var ea={},el={};Object.defineProperty(el,"__esModule",{value:!0}),el.offset=function(e){var t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop,i=t.top+r,o=t.left+n;return{top:i,left:o,bottom:i+t.height,right:o+t.width}},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.offset=void 0,Object.defineProperty(e,"offset",{enumerable:!0,get:function(){return el.offset}})}(ea);var es={},ec={};Object.defineProperty(ec,"__esModule",{value:!0}),ec.prepend=function(e,t){Array.isArray(t)?(t=t.reverse()).forEach(function(t){return e.prepend(t)}):e.prepend(t)},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.prepend=void 0,Object.defineProperty(e,"prepend",{enumerable:!0,get:function(){return ec.prepend}})}(es),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.prepend=e.offset=e.make=e.isLineBreakTag=e.isSingleTag=e.isNodeEmpty=e.isLeaf=e.isHTMLString=e.isFragment=e.isEmpty=e.isElement=e.isContentEditable=e.isCollapsedWhitespaces=e.findAllInputs=e.isNativeInput=e.allInputsSelector=e.getDeepestNode=e.getDeepestBlockElements=e.getContentLength=e.fragmentToString=e.containsOnlyInlineElements=e.canSetCaret=e.calculateBaseline=e.blockElements=e.append=void 0,Object.defineProperty(e,"allInputsSelector",{enumerable:!0,get:function(){return o.allInputsSelector}}),Object.defineProperty(e,"isNativeInput",{enumerable:!0,get:function(){return l.isNativeInput}}),Object.defineProperty(e,"append",{enumerable:!0,get:function(){return c.append}}),Object.defineProperty(e,"blockElements",{enumerable:!0,get:function(){return u.blockElements}}),Object.defineProperty(e,"calculateBaseline",{enumerable:!0,get:function(){return h.calculateBaseline}}),Object.defineProperty(e,"canSetCaret",{enumerable:!0,get:function(){return g.canSetCaret}}),Object.defineProperty(e,"containsOnlyInlineElements",{enumerable:!0,get:function(){return y.containsOnlyInlineElements}}),Object.defineProperty(e,"fragmentToString",{enumerable:!0,get:function(){return M.fragmentToString}}),Object.defineProperty(e,"getContentLength",{enumerable:!0,get:function(){return P.getContentLength}}),Object.defineProperty(e,"getDeepestBlockElements",{enumerable:!0,get:function(){return I.getDeepestBlockElements}}),Object.defineProperty(e,"getDeepestNode",{enumerable:!0,get:function(){return H.getDeepestNode}}),Object.defineProperty(e,"findAllInputs",{enumerable:!0,get:function(){return z.findAllInputs}}),Object.defineProperty(e,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return V.isCollapsedWhitespaces}}),Object.defineProperty(e,"isContentEditable",{enumerable:!0,get:function(){return b.isContentEditable}}),Object.defineProperty(e,"isElement",{enumerable:!0,get:function(){return X.isElement}}),Object.defineProperty(e,"isEmpty",{enumerable:!0,get:function(){return Y.isEmpty}}),Object.defineProperty(e,"isFragment",{enumerable:!0,get:function(){return en.isFragment}}),Object.defineProperty(e,"isHTMLString",{enumerable:!0,get:function(){return ei.isHTMLString}}),Object.defineProperty(e,"isLeaf",{enumerable:!0,get:function(){return Q.isLeaf}}),Object.defineProperty(e,"isNodeEmpty",{enumerable:!0,get:function(){return ee.isNodeEmpty}}),Object.defineProperty(e,"isLineBreakTag",{enumerable:!0,get:function(){return D.isLineBreakTag}}),Object.defineProperty(e,"isSingleTag",{enumerable:!0,get:function(){return W.isSingleTag}}),Object.defineProperty(e,"make",{enumerable:!0,get:function(){return T.make}}),Object.defineProperty(e,"offset",{enumerable:!0,get:function(){return ea.offset}}),Object.defineProperty(e,"prepend",{enumerable:!0,get:function(){return es.prepend}})}(i);var ed=(e=>(e.Left="left",e.Center="center",e))(ed||{});class eu{constructor({data:e,config:t,api:n,readOnly:r,block:i}){let{DEFAULT_ALIGNMENT:o}=eu;this.api=n,this.readOnly=r,this.quotePlaceholder=n.i18n.t((null==t?void 0:t.quotePlaceholder)??eu.DEFAULT_QUOTE_PLACEHOLDER),this.captionPlaceholder=n.i18n.t((null==t?void 0:t.captionPlaceholder)??eu.DEFAULT_CAPTION_PLACEHOLDER),this.data={text:e.text||"",caption:e.caption||"",alignment:Object.values(ed).includes(e.alignment)?e.alignment:(null==t?void 0:t.defaultAlignment)??o},this.css={baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"},this.block=i}static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>',title:"Quote"}}static get contentless(){return!0}static get enableLineBreaks(){return!0}static get DEFAULT_QUOTE_PLACEHOLDER(){return"Enter a quote"}static get DEFAULT_CAPTION_PLACEHOLDER(){return"Enter a caption"}static get DEFAULT_ALIGNMENT(){return"left"}static get conversionConfig(){return{import:"text",export:function(e){return e.caption?`${e.text} — ${e.caption}`:e.text}}}get CSS(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"}}get settings(){return[{name:"left",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>'},{name:"center",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>'}]}render(){let e=i.make("blockquote",[this.css.baseClass,this.css.wrapper]),t=i.make("div",[this.css.input,this.css.text],{contentEditable:!this.readOnly,innerHTML:this.data.text}),n=i.make("div",[this.css.input,this.css.caption],{contentEditable:!this.readOnly,innerHTML:this.data.caption});return t.dataset.placeholder=this.quotePlaceholder,n.dataset.placeholder=this.captionPlaceholder,e.appendChild(t),e.appendChild(n),e}save(e){let t=e.querySelector(`.${this.css.text}`),n=e.querySelector(`.${this.css.caption}`);return Object.assign(this.data,{text:(null==t?void 0:t.innerHTML)??"",caption:(null==n?void 0:n.innerHTML)??""})}static get sanitize(){return{text:{br:!0},caption:{br:!0},alignment:{}}}renderSettings(){let e=e=>e&&e[0].toUpperCase()+e.slice(1);return this.settings.map(t=>({icon:t.icon,label:this.api.i18n.t(`Align ${e(t.name)}`),onActivate:()=>this._toggleTune(t.name),isActive:this.data.alignment===t.name,closeOnActivate:!0}))}_toggleTune(e){this.data.alignment=e,this.block.dispatchChange()}}},32990:(e,t,n)=>{"use strict";n.d(t,{A:()=>eV}),function(){try{if("u">typeof document){var e=document.createElement("style");e.appendChild(document.createTextNode('.cdx-list{margin:0;padding:0;outline:none;display:grid;counter-reset:item;gap:var(--spacing-s);padding:var(--spacing-xs);--spacing-s: 8px;--spacing-xs: 6px;--list-counter-type: numeric;--radius-border: 5px;--checkbox-background: #fff;--color-border: #C9C9C9;--color-bg-checked: #369FFF;--line-height: 1.45em;--color-bg-checked-hover: #0059AB;--color-tick: #fff;--size-checkbox: 1.2em}.cdx-list__item{line-height:var(--line-height);display:grid;grid-template-columns:auto 1fr;grid-template-rows:auto auto;grid-template-areas:"checkbox content" ". child"}.cdx-list__item-children{display:grid;grid-area:child;gap:var(--spacing-s);padding-top:var(--spacing-s)}.cdx-list__item [contenteditable]{outline:none}.cdx-list__item-content{word-break:break-word;white-space:pre-wrap;grid-area:content;padding-left:var(--spacing-s)}.cdx-list__item:before{counter-increment:item;white-space:nowrap}.cdx-list-ordered .cdx-list__item:before{content:counters(item,".",var(--list-counter-type)) "."}.cdx-list-ordered{counter-reset:item}.cdx-list-unordered .cdx-list__item:before{content:"•"}.cdx-list-checklist .cdx-list__item:before{content:""}.cdx-list__settings .cdx-settings-button{width:50%}.cdx-list__checkbox{padding-top:calc((var(--line-height) - var(--size-checkbox)) / 2);grid-area:checkbox;width:var(--size-checkbox);height:var(--size-checkbox);display:flex;cursor:pointer}.cdx-list__checkbox svg{opacity:0;height:var(--size-checkbox);width:var(--size-checkbox);left:-1px;top:-1px;position:absolute}@media (hover: hover){.cdx-list__checkbox:not(.cdx-list__checkbox--no-hover):hover .cdx-list__checkbox-check svg{opacity:1}}.cdx-list__checkbox--checked{line-height:var(--line-height)}@media (hover: hover){.cdx-list__checkbox--checked:not(.cdx-list__checkbox--checked--no-hover):hover .cdx-checklist__checkbox-check{background:var(--color-bg-checked-hover);border-color:var(--color-bg-checked-hover)}}.cdx-list__checkbox--checked .cdx-list__checkbox-check{background:var(--color-bg-checked);border-color:var(--color-bg-checked)}.cdx-list__checkbox--checked .cdx-list__checkbox-check svg{opacity:1}.cdx-list__checkbox--checked .cdx-list__checkbox-check svg path{stroke:var(--color-tick)}.cdx-list__checkbox--checked .cdx-list__checkbox-check:before{opacity:0;visibility:visible;transform:scale(2.5)}.cdx-list__checkbox-check{cursor:pointer;display:inline-block;position:relative;margin:0 auto;width:var(--size-checkbox);height:var(--size-checkbox);box-sizing:border-box;border-radius:var(--radius-border);border:1px solid var(--color-border);background:var(--checkbox-background)}.cdx-list__checkbox-check:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;border-radius:100%;background-color:var(--color-bg-checked);visibility:hidden;pointer-events:none;transform:scale(1);transition:transform .4s ease-out,opacity .4s}.cdx-list-start-with-field{background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-list-start-with-field--invalid{background:#FFECED;border:1px solid #E13F3F}.cdx-list-start-with-field--invalid .cdx-list-start-with-field__input{color:#e13f3f}.cdx-list-start-with-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - var(--toolbox-buttons-size) - var(--icon-margin-right))}.cdx-list-start-with-field__input::placeholder{color:var(--grayText);font-weight:500}')),document.head.appendChild(e)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}}();let r='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.2 12L11.0586 13.8586C11.1367 13.9367 11.2633 13.9367 11.3414 13.8586L14.7 10.5"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',i='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>',o='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>';var a="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof global?global:"u">typeof self?self:{},l={},s={},c={};Object.defineProperty(c,"__esModule",{value:!0}),c.allInputsSelector=function(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(function(e){return'input[type="'.concat(e,'"]')}).join(", ")},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.allInputsSelector=void 0,Object.defineProperty(e,"allInputsSelector",{enumerable:!0,get:function(){return c.allInputsSelector}})}(s);var d={},u={};Object.defineProperty(u,"__esModule",{value:!0}),u.isNativeInput=function(e){return!!e&&!!e.tagName&&["INPUT","TEXTAREA"].includes(e.tagName)},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isNativeInput=void 0,Object.defineProperty(e,"isNativeInput",{enumerable:!0,get:function(){return u.isNativeInput}})}(d);var p={},h={};Object.defineProperty(h,"__esModule",{value:!0}),h.append=function(e,t){Array.isArray(t)?t.forEach(function(t){e.appendChild(t)}):e.appendChild(t)},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.append=void 0,Object.defineProperty(e,"append",{enumerable:!0,get:function(){return h.append}})}(p);var f={},g={};Object.defineProperty(g,"__esModule",{value:!0}),g.blockElements=function(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.blockElements=void 0,Object.defineProperty(e,"blockElements",{enumerable:!0,get:function(){return g.blockElements}})}(f);var m={},b={};Object.defineProperty(b,"__esModule",{value:!0}),b.calculateBaseline=function(e){var t=window.getComputedStyle(e),n=parseFloat(t.fontSize),r=parseFloat(t.lineHeight)||1.2*n,i=parseFloat(t.paddingTop),o=parseFloat(t.borderTopWidth);return parseFloat(t.marginTop)+o+i+(r-n)/2+.8*n},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.calculateBaseline=void 0,Object.defineProperty(e,"calculateBaseline",{enumerable:!0,get:function(){return b.calculateBaseline}})}(m);var v={},y={},w={},C={};Object.defineProperty(C,"__esModule",{value:!0}),C.isContentEditable=function(e){return"true"===e.contentEditable},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isContentEditable=void 0,Object.defineProperty(e,"isContentEditable",{enumerable:!0,get:function(){return C.isContentEditable}})}(w),Object.defineProperty(y,"__esModule",{value:!0}),y.canSetCaret=function(e){var t=!0;if((0,d.isNativeInput)(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":t=!1}else t=(0,w.isContentEditable)(e);return t},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.canSetCaret=void 0,Object.defineProperty(e,"canSetCaret",{enumerable:!0,get:function(){return y.canSetCaret}})}(v);var k={},_={};function x(){let e={win:!1,mac:!1,x11:!1,linux:!1},t=Object.keys(e).find(e=>-1!==window.navigator.appVersion.toLowerCase().indexOf(e));return void 0!==t&&(e[t]=!0),e}function O(e){return null!=e&&""!==e&&("object"!=typeof e||Object.keys(e).length>0)}function S(e){return Object.prototype.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function E(e){return"function"===S(e)||"asyncfunction"===S(e)}function M(e){return"object"===S(e)}class L{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((t,n)=>{this.completed=this.completed.then(e).then(t).catch(n)})}}let T=function(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}),n}(Object.freeze(Object.defineProperty({__proto__:null,PromiseQueue:L,beautifyShortcut:function(e){let t=x();return e=e.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi,"+"),e=t.mac?e.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):e.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN")},cacheable:function(e,t,n){let r=void 0!==n.value?"value":"get",i=n[r],o=`#${t}Cache`;if(n[r]=function(...e){return void 0===this[o]&&(this[o]=i.apply(this,e)),this[o]},"get"===r&&n.set){let t=n.set;n.set=function(n){delete e[o],t.apply(this,n)}}return n},capitalize:function(e){return e[0].toUpperCase()+e.slice(1)},copyTextToClipboard:function(e){let t=document.createElement("div");t.style.position="absolute",t.style.left="-999px",t.style.bottom="-999px",t.innerHTML=e,document.body.appendChild(t);let n=window.getSelection(),r=document.createRange();if(r.selectNode(t),null===n)throw Error("Cannot copy text to clipboard");n.removeAllRanges(),n.addRange(r),document.execCommand("copy"),document.body.removeChild(t)},debounce:function(e,t,n){let r;return(...i)=>{let o=this,a=!0===n&&void 0!==r;window.clearTimeout(r),r=window.setTimeout(()=>{r=void 0,!0!==n&&e.apply(o,i)},t),a&&e.apply(o,i)}},deepMerge:function e(t,...n){if(!n.length)return t;let r=n.shift();if(M(t)&&M(r))for(let n in r)M(r[n])?(void 0===t[n]&&Object.assign(t,{[n]:{}}),e(t[n],r[n])):Object.assign(t,{[n]:r[n]});return e(t,...n)},deprecationAssert:function(e,t,n){let r=`\xab${t}\xbb is deprecated and will be removed in the next major release. Please use the \xab${n}\xbb instead.`;e&&console.warn(r)},getUserOS:x,getValidUrl:function(e){try{return new URL(e).href}catch{}return"//"===e.substring(0,2)?window.location.protocol+e:window.location.origin+e},isBoolean:function(e){return"boolean"===S(e)},isClass:function(e){return E(e)&&/^\s*class\s+/.test(e.toString())},isEmpty:function(e){return!O(e)},isFunction:E,isIosDevice:()=>"u">typeof window&&null!==window.navigator&&O(window.navigator.platform)&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),isNumber:function(e){return"number"===S(e)},isObject:M,isPrintableKey:function(e){return e>47&&e<58||32===e||13===e||229===e||e>64&&e<91||e>95&&e<112||e>185&&e<193||e>218&&e<223},isPromise:function(e){return Promise.resolve(e)===e},isString:function(e){return"string"===S(e)},isUndefined:function(e){return"undefined"===S(e)},keyCodes:{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},mouseButtons:{LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4},notEmpty:O,throttle:function(e,t,n){let r,i,o,a=null,l=0;n||(n={});let s=function(){l=!1===n.leading?0:Date.now(),a=null,o=e.apply(r,i),null===a&&(r=i=null)};return function(){let c=Date.now();l||!1!==n.leading||(l=c);let d=t-(c-l);return r=this,i=arguments,d<=0||d>t?(a&&(clearTimeout(a),a=null),l=c,o=e.apply(r,i),null===a&&(r=i=null)):a||!1===n.trailing||(a=setTimeout(s,d)),o}},typeOf:S},Symbol.toStringTag,{value:"Module"})));Object.defineProperty(_,"__esModule",{value:!0}),_.containsOnlyInlineElements=function(e){(0,T.isString)(e)?(t=document.createElement("div")).innerHTML=e:t=e;var t,n=function(e){return!(0,f.blockElements)().includes(e.tagName.toLowerCase())&&Array.from(e.children).every(n)};return Array.from(t.children).every(n)},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.containsOnlyInlineElements=void 0,Object.defineProperty(e,"containsOnlyInlineElements",{enumerable:!0,get:function(){return _.containsOnlyInlineElements}})}(k);var j={},P={},A={},I={};Object.defineProperty(I,"__esModule",{value:!0}),I.make=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n={});var r,i=document.createElement(e);if(Array.isArray(t)){var o=t.filter(function(e){return void 0!==e});(r=i.classList).add.apply(r,o)}else null!==t&&i.classList.add(t);for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a]);return i},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.make=void 0,Object.defineProperty(e,"make",{enumerable:!0,get:function(){return I.make}})}(A),Object.defineProperty(P,"__esModule",{value:!0}),P.fragmentToString=function(e){var t=(0,A.make)("div");return t.appendChild(e),t.innerHTML},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fragmentToString=void 0,Object.defineProperty(e,"fragmentToString",{enumerable:!0,get:function(){return P.fragmentToString}})}(j);var N={},R={};Object.defineProperty(R,"__esModule",{value:!0}),R.getContentLength=function(e){var t,n;return(0,d.isNativeInput)(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:null!==(n=null===(t=e.textContent)||void 0===t?void 0:t.length)&&void 0!==n?n:0},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getContentLength=void 0,Object.defineProperty(e,"getContentLength",{enumerable:!0,get:function(){return R.getContentLength}})}(N);var H={},B={},D=a&&a.__spreadArray||function(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(B,"__esModule",{value:!0}),B.getDeepestBlockElements=function e(t){return(0,k.containsOnlyInlineElements)(t)?[t]:Array.from(t.children).reduce(function(t,n){return D(D([],t,!0),e(n),!0)},[])},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getDeepestBlockElements=void 0,Object.defineProperty(e,"getDeepestBlockElements",{enumerable:!0,get:function(){return B.getDeepestBlockElements}})}(H);var F={},W={},$={},z={};Object.defineProperty(z,"__esModule",{value:!0}),z.isLineBreakTag=function(e){return["BR","WBR"].includes(e.tagName)},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isLineBreakTag=void 0,Object.defineProperty(e,"isLineBreakTag",{enumerable:!0,get:function(){return z.isLineBreakTag}})}($);var q={},U={};Object.defineProperty(U,"__esModule",{value:!0}),U.isSingleTag=function(e){return["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isSingleTag=void 0,Object.defineProperty(e,"isSingleTag",{enumerable:!0,get:function(){return U.isSingleTag}})}(q),Object.defineProperty(W,"__esModule",{value:!0}),W.getDeepestNode=function e(t,n){void 0===n&&(n=!1);var r=n?"lastChild":"firstChild",i=n?"previousSibling":"nextSibling";if(t.nodeType===Node.ELEMENT_NODE&&t[r]){var o=t[r];if((0,q.isSingleTag)(o)&&!(0,d.isNativeInput)(o)&&!(0,$.isLineBreakTag)(o)){if(o[i])o=o[i];else{if(null===o.parentNode||!o.parentNode[i])return o.parentNode;o=o.parentNode[i]}}return e(o,n)}return t},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getDeepestNode=void 0,Object.defineProperty(e,"getDeepestNode",{enumerable:!0,get:function(){return W.getDeepestNode}})}(F);var V={},K={},X=a&&a.__spreadArray||function(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(K,"__esModule",{value:!0}),K.findAllInputs=function(e){return Array.from(e.querySelectorAll((0,s.allInputsSelector)())).reduce(function(e,t){return(0,d.isNativeInput)(t)||(0,k.containsOnlyInlineElements)(t)?X(X([],e,!0),[t],!1):X(X([],e,!0),(0,H.getDeepestBlockElements)(t),!0)},[])},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.findAllInputs=void 0,Object.defineProperty(e,"findAllInputs",{enumerable:!0,get:function(){return K.findAllInputs}})}(V);var G={},Y={};Object.defineProperty(Y,"__esModule",{value:!0}),Y.isCollapsedWhitespaces=function(e){return!/[^\t\n\r ]/.test(e)},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isCollapsedWhitespaces=void 0,Object.defineProperty(e,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return Y.isCollapsedWhitespaces}})}(G);var J={},Q={};Object.defineProperty(Q,"__esModule",{value:!0}),Q.isElement=function(e){return!(0,T.isNumber)(e)&&!!e&&!!e.nodeType&&e.nodeType===Node.ELEMENT_NODE},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isElement=void 0,Object.defineProperty(e,"isElement",{enumerable:!0,get:function(){return Q.isElement}})}(J);var Z={},ee={},et={},en={};Object.defineProperty(en,"__esModule",{value:!0}),en.isLeaf=function(e){return null!==e&&0===e.childNodes.length},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isLeaf=void 0,Object.defineProperty(e,"isLeaf",{enumerable:!0,get:function(){return en.isLeaf}})}(et);var er={},ei={};Object.defineProperty(ei,"__esModule",{value:!0}),ei.isNodeEmpty=function(e,t){var n="";return(!(0,q.isSingleTag)(e)||!!(0,$.isLineBreakTag)(e))&&((0,J.isElement)(e)&&(0,d.isNativeInput)(e)?n=e.value:null!==e.textContent&&(n=e.textContent.replace("​","")),void 0!==t&&(n=n.replace(RegExp(t,"g"),"")),0===n.trim().length)},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeEmpty=void 0,Object.defineProperty(e,"isNodeEmpty",{enumerable:!0,get:function(){return ei.isNodeEmpty}})}(er),Object.defineProperty(ee,"__esModule",{value:!0}),ee.isEmpty=function(e,t){e.normalize();for(var n=[e];n.length>0;){var r=n.shift();if(r){if(e=r,(0,et.isLeaf)(e)&&!(0,er.isNodeEmpty)(e,t))return!1;n.push.apply(n,Array.from(e.childNodes))}}return!0},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isEmpty=void 0,Object.defineProperty(e,"isEmpty",{enumerable:!0,get:function(){return ee.isEmpty}})}(Z);var eo={},ea={};Object.defineProperty(ea,"__esModule",{value:!0}),ea.isFragment=function(e){return!(0,T.isNumber)(e)&&!!e&&!!e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isFragment=void 0,Object.defineProperty(e,"isFragment",{enumerable:!0,get:function(){return ea.isFragment}})}(eo);var el={},es={};Object.defineProperty(es,"__esModule",{value:!0}),es.isHTMLString=function(e){var t=(0,A.make)("div");return t.innerHTML=e,t.childElementCount>0},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isHTMLString=void 0,Object.defineProperty(e,"isHTMLString",{enumerable:!0,get:function(){return es.isHTMLString}})}(el);var ec={},ed={};Object.defineProperty(ed,"__esModule",{value:!0}),ed.offset=function(e){var t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop,i=t.top+r,o=t.left+n;return{top:i,left:o,bottom:i+t.height,right:o+t.width}},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.offset=void 0,Object.defineProperty(e,"offset",{enumerable:!0,get:function(){return ed.offset}})}(ec);var eu={},ep={};Object.defineProperty(ep,"__esModule",{value:!0}),ep.prepend=function(e,t){Array.isArray(t)?(t=t.reverse()).forEach(function(t){return e.prepend(t)}):e.prepend(t)},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.prepend=void 0,Object.defineProperty(e,"prepend",{enumerable:!0,get:function(){return ep.prepend}})}(eu),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.prepend=e.offset=e.make=e.isLineBreakTag=e.isSingleTag=e.isNodeEmpty=e.isLeaf=e.isHTMLString=e.isFragment=e.isEmpty=e.isElement=e.isContentEditable=e.isCollapsedWhitespaces=e.findAllInputs=e.isNativeInput=e.allInputsSelector=e.getDeepestNode=e.getDeepestBlockElements=e.getContentLength=e.fragmentToString=e.containsOnlyInlineElements=e.canSetCaret=e.calculateBaseline=e.blockElements=e.append=void 0,Object.defineProperty(e,"allInputsSelector",{enumerable:!0,get:function(){return s.allInputsSelector}}),Object.defineProperty(e,"isNativeInput",{enumerable:!0,get:function(){return d.isNativeInput}}),Object.defineProperty(e,"append",{enumerable:!0,get:function(){return p.append}}),Object.defineProperty(e,"blockElements",{enumerable:!0,get:function(){return f.blockElements}}),Object.defineProperty(e,"calculateBaseline",{enumerable:!0,get:function(){return m.calculateBaseline}}),Object.defineProperty(e,"canSetCaret",{enumerable:!0,get:function(){return v.canSetCaret}}),Object.defineProperty(e,"containsOnlyInlineElements",{enumerable:!0,get:function(){return k.containsOnlyInlineElements}}),Object.defineProperty(e,"fragmentToString",{enumerable:!0,get:function(){return j.fragmentToString}}),Object.defineProperty(e,"getContentLength",{enumerable:!0,get:function(){return N.getContentLength}}),Object.defineProperty(e,"getDeepestBlockElements",{enumerable:!0,get:function(){return H.getDeepestBlockElements}}),Object.defineProperty(e,"getDeepestNode",{enumerable:!0,get:function(){return F.getDeepestNode}}),Object.defineProperty(e,"findAllInputs",{enumerable:!0,get:function(){return V.findAllInputs}}),Object.defineProperty(e,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return G.isCollapsedWhitespaces}}),Object.defineProperty(e,"isContentEditable",{enumerable:!0,get:function(){return w.isContentEditable}}),Object.defineProperty(e,"isElement",{enumerable:!0,get:function(){return J.isElement}}),Object.defineProperty(e,"isEmpty",{enumerable:!0,get:function(){return Z.isEmpty}}),Object.defineProperty(e,"isFragment",{enumerable:!0,get:function(){return eo.isFragment}}),Object.defineProperty(e,"isHTMLString",{enumerable:!0,get:function(){return el.isHTMLString}}),Object.defineProperty(e,"isLeaf",{enumerable:!0,get:function(){return et.isLeaf}}),Object.defineProperty(e,"isNodeEmpty",{enumerable:!0,get:function(){return er.isNodeEmpty}}),Object.defineProperty(e,"isLineBreakTag",{enumerable:!0,get:function(){return $.isLineBreakTag}}),Object.defineProperty(e,"isSingleTag",{enumerable:!0,get:function(){return q.isSingleTag}}),Object.defineProperty(e,"make",{enumerable:!0,get:function(){return A.make}}),Object.defineProperty(e,"offset",{enumerable:!0,get:function(){return ec.offset}}),Object.defineProperty(e,"prepend",{enumerable:!0,get:function(){return eu.prepend}})}(l);let eh="cdx-list",ef={wrapper:eh,item:`${eh}__item`,itemContent:`${eh}__item-content`,itemChildren:`${eh}__item-children`};class eg{static get CSS(){return{...ef,orderedList:`${eh}-ordered`}}constructor(e,t){this.config=t,this.readOnly=e}renderWrapper(e){return!0===e?l.make("ol",[eg.CSS.wrapper,eg.CSS.orderedList]):l.make("ol",[eg.CSS.orderedList,eg.CSS.itemChildren])}renderItem(e,t){let n=l.make("li",eg.CSS.item),r=l.make("div",eg.CSS.itemContent,{innerHTML:e,contentEditable:(!this.readOnly).toString()});return n.appendChild(r),n}getItemContent(e){let t=e.querySelector(`.${eg.CSS.itemContent}`);return!t||l.isEmpty(t)?"":t.innerHTML}getItemMeta(){return{}}composeDefaultMeta(){return{}}}class em{static get CSS(){return{...ef,unorderedList:`${eh}-unordered`}}constructor(e,t){this.config=t,this.readOnly=e}renderWrapper(e){return!0===e?l.make("ul",[em.CSS.wrapper,em.CSS.unorderedList]):l.make("ul",[em.CSS.unorderedList,em.CSS.itemChildren])}renderItem(e,t){let n=l.make("li",em.CSS.item),r=l.make("div",em.CSS.itemContent,{innerHTML:e,contentEditable:(!this.readOnly).toString()});return n.appendChild(r),n}getItemContent(e){let t=e.querySelector(`.${em.CSS.itemContent}`);return!t||l.isEmpty(t)?"":t.innerHTML}getItemMeta(){return{}}composeDefaultMeta(){return{}}}function eb(e){return e.nodeType===Node.ELEMENT_NODE}var ev={},ey={},ew={},eC={};Object.defineProperty(eC,"__esModule",{value:!0}),eC.getContenteditableSlice=function(e,t,n,r,i){void 0===i&&(i=!1);var o,a=document.createRange();if("left"===r?(a.setStart(e,0),a.setEnd(t,n)):(a.setStart(t,n),a.setEnd(e,e.childNodes.length)),!0===i){var s=a.extractContents();return(0,l.fragmentToString)(s)}var c=a.cloneContents(),d=document.createElement("div");return d.appendChild(c),null!==(o=d.textContent)&&void 0!==o?o:""},Object.defineProperty(ew,"__esModule",{value:!0}),ew.checkContenteditableSliceForEmptiness=function(e,t,n,r){var i=(0,eC.getContenteditableSlice)(e,t,n,r);return(0,l.isCollapsedWhitespaces)(i)},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkContenteditableSliceForEmptiness=void 0,Object.defineProperty(e,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return ew.checkContenteditableSliceForEmptiness}})}(ey);var ek={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getContenteditableSlice=void 0,Object.defineProperty(e,"getContenteditableSlice",{enumerable:!0,get:function(){return eC.getContenteditableSlice}})}(ek);var e_={},ex={};Object.defineProperty(ex,"__esModule",{value:!0}),ex.focus=function(e,t){var n,r;if(void 0===t&&(t=!0),(0,l.isNativeInput)(e)){e.focus();var i=t?0:e.value.length;e.setSelectionRange(i,i)}else{var o=document.createRange(),a=window.getSelection();if(!a)return;var s=function(e,t){void 0===t&&(t=!1);var n=document.createTextNode("");t?e.insertBefore(n,e.firstChild):e.appendChild(n),o.setStart(n,0),o.setEnd(n,0)},c=function(e){return null!=e},d=e.childNodes,u=t?d[0]:d[d.length-1];if(c(u)){for(;c(u)&&u.nodeType!==Node.TEXT_NODE;)u=t?u.firstChild:u.lastChild;if(c(u)&&u.nodeType===Node.TEXT_NODE){var p=null!==(r=null===(n=u.textContent)||void 0===n?void 0:n.length)&&void 0!==r?r:0,i=t?0:p;o.setStart(u,i),o.setEnd(u,i)}else s(e,t)}else s(e);a.removeAllRanges(),a.addRange(o)}},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.focus=void 0,Object.defineProperty(e,"focus",{enumerable:!0,get:function(){return ex.focus}})}(e_);var eO={},eS={};Object.defineProperty(eS,"__esModule",{value:!0}),eS.getCaretNodeAndOffset=function(){var e=window.getSelection();if(null===e)return[null,0];var t=e.focusNode,n=e.focusOffset;return null===t?[null,0]:(t.nodeType!==Node.TEXT_NODE&&t.childNodes.length>0&&(void 0!==t.childNodes[n]?(t=t.childNodes[n],n=0):null!==(t=t.childNodes[n-1]).textContent&&(n=t.textContent.length)),[t,n])},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getCaretNodeAndOffset=void 0,Object.defineProperty(e,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return eS.getCaretNodeAndOffset}})}(eO);var eE={},eM={};Object.defineProperty(eM,"__esModule",{value:!0}),eM.getRange=function(){var e=window.getSelection();return e&&e.rangeCount?e.getRangeAt(0):null},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getRange=void 0,Object.defineProperty(e,"getRange",{enumerable:!0,get:function(){return eM.getRange}})}(eE);var eL={},eT={};Object.defineProperty(eT,"__esModule",{value:!0}),eT.isCaretAtEndOfInput=function(e){var t=(0,l.getDeepestNode)(e,!0);if(null===t)return!0;if((0,l.isNativeInput)(t))return t.selectionEnd===t.value.length;var n=(0,eO.getCaretNodeAndOffset)(),r=n[0],i=n[1];return null!==r&&(0,ey.checkContenteditableSliceForEmptiness)(e,r,i,"right")},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isCaretAtEndOfInput=void 0,Object.defineProperty(e,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return eT.isCaretAtEndOfInput}})}(eL);var ej={},eP={};Object.defineProperty(eP,"__esModule",{value:!0}),eP.isCaretAtStartOfInput=function(e){var t=(0,l.getDeepestNode)(e);if(null===t||(0,l.isEmpty)(e))return!0;if((0,l.isNativeInput)(t))return 0===t.selectionEnd;if((0,l.isEmpty)(e))return!0;var n=(0,eS.getCaretNodeAndOffset)(),r=n[0],i=n[1];return null!==r&&(0,ew.checkContenteditableSliceForEmptiness)(e,r,i,"left")},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isCaretAtStartOfInput=void 0,Object.defineProperty(e,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return eP.isCaretAtStartOfInput}})}(ej);var eA={},eI={};Object.defineProperty(eI,"__esModule",{value:!0}),eI.save=function(){var e=(0,eM.getRange)(),t=(0,l.make)("span");if(t.id="cursor",t.hidden=!0,e)return e.insertNode(t),function(){var n=window.getSelection();n&&(e.setStartAfter(t),e.setEndAfter(t),n.removeAllRanges(),n.addRange(e),setTimeout(function(){t.remove()},150))}},!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.save=void 0,Object.defineProperty(e,"save",{enumerable:!0,get:function(){return eI.save}})}(eA),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.save=e.isCaretAtStartOfInput=e.isCaretAtEndOfInput=e.getRange=e.getCaretNodeAndOffset=e.focus=e.getContenteditableSlice=e.checkContenteditableSliceForEmptiness=void 0,Object.defineProperty(e,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return ey.checkContenteditableSliceForEmptiness}}),Object.defineProperty(e,"getContenteditableSlice",{enumerable:!0,get:function(){return ek.getContenteditableSlice}}),Object.defineProperty(e,"focus",{enumerable:!0,get:function(){return e_.focus}}),Object.defineProperty(e,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return eO.getCaretNodeAndOffset}}),Object.defineProperty(e,"getRange",{enumerable:!0,get:function(){return eE.getRange}}),Object.defineProperty(e,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return eL.isCaretAtEndOfInput}}),Object.defineProperty(e,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return ej.isCaretAtStartOfInput}}),Object.defineProperty(e,"save",{enumerable:!0,get:function(){return eA.save}})}(ev);class eN{static get CSS(){return{...ef,checklist:`${eh}-checklist`,itemChecked:`${eh}__checkbox--checked`,noHover:`${eh}__checkbox--no-hover`,checkbox:`${eh}__checkbox-check`,checkboxContainer:`${eh}__checkbox`}}constructor(e,t){this.config=t,this.readOnly=e}renderWrapper(e){let t;return!0===e?(t=l.make("ul",[eN.CSS.wrapper,eN.CSS.checklist])).addEventListener("click",e=>{let t=e.target;if(t){let e=t.closest(`.${eN.CSS.checkboxContainer}`);e&&e.contains(t)&&this.toggleCheckbox(e)}}):t=l.make("ul",[eN.CSS.checklist,eN.CSS.itemChildren]),t}renderItem(e,t){let n=l.make("li",[eN.CSS.item,eN.CSS.item]),r=l.make("div",eN.CSS.itemContent,{innerHTML:e,contentEditable:(!this.readOnly).toString()}),i=l.make("span",eN.CSS.checkbox),o=l.make("div",eN.CSS.checkboxContainer);return!0===t.checked&&o.classList.add(eN.CSS.itemChecked),i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 12L10.4884 15.8372C10.5677 15.9245 10.705 15.9245 10.7844 15.8372L17 9"/></svg>',o.appendChild(i),n.appendChild(o),n.appendChild(r),n}getItemContent(e){let t=e.querySelector(`.${eN.CSS.itemContent}`);return!t||l.isEmpty(t)?"":t.innerHTML}getItemMeta(e){let t=e.querySelector(`.${eN.CSS.checkboxContainer}`);return{checked:!!t&&t.classList.contains(eN.CSS.itemChecked)}}composeDefaultMeta(){return{checked:!1}}toggleCheckbox(e){e.classList.toggle(eN.CSS.itemChecked),e.classList.add(eN.CSS.noHover),e.addEventListener("mouseleave",()=>this.removeSpecialHoverBehavior(e),{once:!0})}removeSpecialHoverBehavior(e){e.classList.remove(eN.CSS.noHover)}}function eR(e,t="after"){let n;let r=[];function i(e){switch(t){case"after":return e.nextElementSibling;case"before":return e.previousElementSibling}}for(n=i(e);null!==n;)r.push(n),n=i(n);return 0!==r.length?r:null}function eH(e,t=!0){let n=e;return e.classList.contains(ef.item)&&(n=e.querySelector(`.${ef.itemChildren}`)),null===n?[]:t?Array.from(n.querySelectorAll(`:scope > .${ef.item}`)):Array.from(n.querySelectorAll(`.${ef.item}`))}function eB(e){return e.querySelector(`.${ef.itemChildren}`)}function eD(e){let t=e;e.classList.contains(ef.item)&&(t=eB(e)),null!==t&&0===eH(t).length&&t.remove()}function eF(e){return e.querySelector(`.${ef.itemContent}`)}function eW(e,t=!0){let n=eF(e);n&&ev.focus(n,t)}class e${get currentItem(){let e=window.getSelection();if(!e)return null;let t=e.anchorNode;return t&&(eb(t)||(t=t.parentNode),t)&&eb(t)?t.closest(`.${ef.item}`):null}get currentItemLevel(){let e=this.currentItem;if(null===e)return null;let t=e.parentNode,n=0;for(;null!==t&&t!==this.listWrapper;)eb(t)&&t.classList.contains(ef.item)&&(n+=1),t=t.parentNode;return n+1}constructor({data:e,config:t,api:n,readOnly:r,block:i},o){this.config=t,this.data=e,this.readOnly=r,this.api=n,this.block=i,this.renderer=o}render(){return this.listWrapper=this.renderer.renderWrapper(!0),this.data.items.length?this.appendItems(this.data.items,this.listWrapper):this.appendItems([{content:"",meta:{},items:[]}],this.listWrapper),this.readOnly||this.listWrapper.addEventListener("keydown",e=>{switch(e.key){case"Enter":this.enterPressed(e);break;case"Backspace":this.backspace(e);break;case"Tab":e.shiftKey?this.shiftTab(e):this.addTab(e)}},!1),"start"in this.data.meta&&void 0!==this.data.meta.start&&this.changeStartWith(this.data.meta.start),"counterType"in this.data.meta&&void 0!==this.data.meta.counterType&&this.changeCounters(this.data.meta.counterType),this.listWrapper}save(e){let t=e??this.listWrapper,n=e=>eH(e).map(e=>{let t=eB(e),r=this.renderer.getItemContent(e);return{content:r,meta:this.renderer.getItemMeta(e),items:t?n(t):[]}}),r=t?n(t):[],i={style:this.data.style,meta:{},items:r};return"ordered"===this.data.style&&(i.meta={start:this.data.meta.start,counterType:this.data.meta.counterType}),i}static get pasteConfig(){return{tags:["OL","UL","LI"]}}merge(e){let t=this.block.holder.querySelectorAll(`.${ef.item}`),n=t[t.length-1],r=eF(n);if(null===n||null===r||(r.insertAdjacentHTML("beforeend",e.items[0].content),void 0===this.listWrapper))return;let i=eH(this.listWrapper);if(0===i.length)return;let o=eB(i[i.length-1]),a=e.items.shift();void 0!==a&&(0!==a.items.length&&(null===o&&(o=this.renderer.renderWrapper(!1)),this.appendItems(a.items,o)),e.items.length>0&&this.appendItems(e.items,this.listWrapper))}onPaste(e){let t=e.detail.data;this.data=this.pasteHandler(t);let n=this.listWrapper;n&&n.parentNode&&n.parentNode.replaceChild(this.render(),n)}pasteHandler(e){let{tagName:t}=e,n="unordered",r;switch(t){case"OL":n="ordered",r="ol";break;case"UL":case"LI":n="unordered",r="ul"}let i={style:n,meta:{},items:[]};"ordered"===n&&(this.data.meta.counterType="numeric",this.data.meta.start=1);let o=e=>Array.from(e.querySelectorAll(":scope > li")).map(e=>{let t=e.querySelector(`:scope > ${r}`),n=t?o(t):[];return{content:e.innerHTML??"",meta:{},items:n}});return i.items=o(e),i}changeStartWith(e){this.listWrapper.style.setProperty("counter-reset",`item ${e-1}`),this.data.meta.start=e}changeCounters(e){this.listWrapper.style.setProperty("--list-counter-type",e),this.data.meta.counterType=e}enterPressed(e){var t;let n=this.currentItem;if(e.stopPropagation(),e.preventDefault(),e.isComposing||null===n)return;let r=(null==(t=this.renderer)?void 0:t.getItemContent(n).trim().length)===0,i=n.parentNode===this.listWrapper,o=null===n.previousElementSibling,a=this.api.blocks.getCurrentBlockIndex();if(i&&r){if(null!==n.nextElementSibling||null!==n.querySelector(`.${ef.itemChildren}`)){this.splitList(n);return}o?this.convertItemToDefaultBlock(a,!0):this.convertItemToDefaultBlock();return}if(r){this.unshiftItem(n);return}this.splitItem(n)}backspace(e){var t;let n=this.currentItem;if(null!==n&&ev.isCaretAtStartOfInput(n)&&(null==(t=window.getSelection())?void 0:t.isCollapsed)!==!1){if(e.stopPropagation(),n.parentNode===this.listWrapper&&null===n.previousElementSibling){this.convertFirstItemToDefaultBlock();return}e.preventDefault(),this.mergeItemWithPrevious(n)}}shiftTab(e){e.stopPropagation(),e.preventDefault(),null!==this.currentItem&&this.unshiftItem(this.currentItem)}unshiftItem(e){if(!e.parentNode||!eb(e.parentNode))return;let t=e.parentNode.closest(`.${ef.item}`);if(!t)return;let n=eB(e);if(null===e.parentElement)return;let r=eR(e);null!==r&&(null===n&&(n=this.renderer.renderWrapper(!1)),r.forEach(e=>{n.appendChild(e)}),e.appendChild(n)),t.after(e),eW(e,!1),eD(t)}splitList(e){let t=eH(e),n=this.block,r=this.api.blocks.getCurrentBlockIndex();if(0!==t.length){let n=t[0];this.unshiftItem(n),eW(e,!1)}if(null===e.previousElementSibling&&e.parentNode===this.listWrapper){this.convertItemToDefaultBlock(r);return}let i=eR(e);if(null===i)return;let o=this.renderer.renderWrapper(!0);i.forEach(e=>{o.appendChild(e)});let a=this.save(o);a.meta.start="ordered"==this.data.style?1:void 0,this.api.blocks.insert(null==n?void 0:n.name,a,this.config,r+1),this.convertItemToDefaultBlock(r+1),o.remove()}splitItem(e){let t;let[n,r]=ev.getCaretNodeAndOffset();if(null===n)return;let i=eF(e);t=null===i?"":ev.getContenteditableSlice(i,n,r,"right",!0);let o=eB(e),a=this.renderItem(t);null==e||e.after(a),o&&a.appendChild(o),eW(a)}mergeItemWithPrevious(e){let t;let n=e.previousElementSibling,r=e.parentNode;if(null===r||!eb(r))return;let i=r.closest(`.${ef.item}`);if(!n&&!i||n&&!eb(n))return;if(n){let e=eH(n,!1);t=0!==e.length&&0!==e.length?e[e.length-1]:n}else t=i;let o=this.renderer.getItemContent(e);if(!t)return;eW(t,!1);let a=eF(t);if(null===a)return;a.insertAdjacentHTML("beforeend",o);let l=eH(e);if(0===l.length){e.remove(),eD(t);return}let s=n||i,c=eB(s)??this.renderer.renderWrapper(!1);n?l.forEach(e=>{c.appendChild(e)}):l.forEach(e=>{c.prepend(e)}),null===eB(s)&&t.appendChild(c),e.remove()}addTab(e){var t;e.stopPropagation(),e.preventDefault();let n=this.currentItem;if(!n)return;if((null==(t=this.config)?void 0:t.maxLevel)!==void 0){let e=this.currentItemLevel;if(null!==e&&e===this.config.maxLevel)return}let r=n.previousSibling;if(null===r||!eb(r))return;let i=eB(r);if(i)i.appendChild(n),eH(n).forEach(e=>{i.appendChild(e)});else{let e=this.renderer.renderWrapper(!1);e.appendChild(n),eH(n).forEach(t=>{e.appendChild(t)}),r.appendChild(e)}eD(n),eW(n,!1)}convertItemToDefaultBlock(e,t){let n;let r=this.currentItem,i=null!==r?this.renderer.getItemContent(r):"";!0===t&&this.api.blocks.delete(),n=void 0!==e?this.api.blocks.insert(void 0,{text:i},void 0,e):this.api.blocks.insert(),null==r||r.remove(),this.api.caret.setToBlock(n,"start")}convertFirstItemToDefaultBlock(){let e=this.currentItem;if(null===e)return;let t=eH(e);if(0!==t.length){let n=t[0];this.unshiftItem(n),eW(e)}let n=eR(e),r=this.api.blocks.getCurrentBlockIndex();this.convertItemToDefaultBlock(r,null===n)}renderItem(e,t){let n=t??this.renderer.composeDefaultMeta();switch(!0){case this.renderer instanceof eg:case this.renderer instanceof em:default:return this.renderer.renderItem(e,n)}}appendItems(e,t){e.forEach(e=>{var n;let r=this.renderItem(e.content,e.meta);if(t.appendChild(r),e.items.length){let t=null==(n=this.renderer)?void 0:n.renderWrapper(!1);this.appendItems(e.items,t),r.appendChild(t)}})}}let ez={wrapper:`${eh}-start-with-field`,input:`${eh}-start-with-field__input`,startWithElementWrapperInvalid:`${eh}-start-with-field--invalid`},eq=new Map([["Numeric","numeric"],["Lower Roman","lower-roman"],["Upper Roman","upper-roman"],["Lower Alpha","lower-alpha"],["Upper Alpha","upper-alpha"]]),eU=new Map([["numeric",'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 14.2L10 7.4135C10 7.32872 9.90111 7.28241 9.83598 7.33668L7 9.7" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M13.2087 14.2H13.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>'],["lower-roman",'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.2087 14.2H13.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M10 14.2L10 9.5" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M10 7.01L10 7" stroke="black" stroke-width="1.8" stroke-linecap="round"/></svg>'],["upper-roman",'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.2087 14.2H13.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M10 14.2L10 7.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>'],["lower-alpha",'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.2087 14.2H14.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M11.5 14.5C11.5 14.5 11 13.281 11 12.5M7 9.5C7 9.5 7.5 8.5 9 8.5C10.5 8.5 11 9.5 11 10.5L11 11.5M11 11.5L11 12.5M11 11.5C11 11.5 7 11 7 13C7 15.3031 11 15 11 12.5" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>'],["upper-alpha",'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.0087 14.2H16" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M7 14.2L7.78865 12M13 14.2L12.1377 12M7.78865 12C7.78865 12 9.68362 7 10 7C10.3065 7 12.1377 12 12.1377 12M7.78865 12L12.1377 12" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>']]);class eV{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return[{icon:i,title:"Unordered List",data:{style:"unordered"}},{icon:o,title:"Ordered List",data:{style:"ordered"}},{icon:r,title:"Checklist",data:{style:"checklist"}}]}static get pasteConfig(){return{tags:["OL","UL","LI"]}}static get conversionConfig(){return{export:e=>eV.joinRecursive(e),import:(e,t)=>({meta:{},items:[{content:e,meta:{},items:[]}],style:(null==t?void 0:t.defaultStyle)!==void 0?t.defaultStyle:"unordered"})}}get listStyle(){return this.data.style||this.defaultListStyle}set listStyle(e){var t;this.data.style=e,this.changeTabulatorByStyle();let n=this.list.render();null==(t=this.listElement)||t.replaceWith(n),this.listElement=n}constructor({data:e,config:t,api:n,readOnly:r,block:i}){var o;this.api=n,this.readOnly=r,this.config=t,this.block=i,this.defaultListStyle=(null==(o=this.config)?void 0:o.defaultStyle)||"unordered",this.defaultCounterTypes=this.config.counterTypes||Array.from(eq.values());let a={style:this.defaultListStyle,meta:{},items:[]};this.data=Object.keys(e).length?function(e){let t=[];return"string"==typeof e.items[0]?(e.items.forEach(e=>{t.push({content:e,meta:{},items:[]})}),{style:e.style,meta:{},items:t}):"string"!=typeof e.items[0]&&"text"in e.items[0]&&"checked"in e.items[0]&&"string"==typeof e.items[0].text&&"boolean"==typeof e.items[0].checked?(e.items.forEach(e=>{t.push({content:e.text,meta:{checked:e.checked},items:[]})}),{style:"checklist",meta:{},items:t}):"meta"in e?e:{style:e.style,meta:{},items:e.items}}(e):a,"ordered"===this.listStyle&&void 0===this.data.meta.counterType&&(this.data.meta.counterType="numeric"),this.changeTabulatorByStyle()}static joinRecursive(e){return e.items.map(e=>`${e.content} ${eV.joinRecursive(e)}`).join("")}render(){return this.listElement=this.list.render(),this.listElement}save(){return this.data=this.list.save(),this.data}merge(e){this.list.merge(e)}renderSettings(){let e=[{label:this.api.i18n.t("Unordered"),icon:i,closeOnActivate:!0,isActive:"unordered"==this.listStyle,onActivate:()=>{this.listStyle="unordered"}},{label:this.api.i18n.t("Ordered"),icon:o,closeOnActivate:!0,isActive:"ordered"==this.listStyle,onActivate:()=>{this.listStyle="ordered"}},{label:this.api.i18n.t("Checklist"),icon:r,closeOnActivate:!0,isActive:"checklist"==this.listStyle,onActivate:()=>{this.listStyle="checklist"}}];if("ordered"===this.listStyle){let t=function(e,{value:t,placeholder:n,attributes:r,sanitize:i}){let o=l.make("div",ez.wrapper),a=l.make("input",ez.input,{placeholder:n,tabIndex:-1,value:t});for(let e in r)a.setAttribute(e,r[e]);return o.appendChild(a),a.addEventListener("input",()=>{void 0!==i&&(a.value=i(a.value));let t=a.checkValidity();t||o.classList.contains(ez.startWithElementWrapperInvalid)||o.classList.add(ez.startWithElementWrapperInvalid),t&&o.classList.contains(ez.startWithElementWrapperInvalid)&&o.classList.remove(ez.startWithElementWrapperInvalid),t&&e(a.value)}),o}(e=>this.changeStartWith(Number(e)),{value:String(this.data.meta.start??1),placeholder:"",attributes:{required:"true"},sanitize:e=>e.replace(/\D+/g,"")}),n=[{label:this.api.i18n.t("Start with"),icon:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 14.2L8 7.4135C8 7.32872 7.90111 7.28241 7.83598 7.33668L5 9.7" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M14 13L16.4167 10.7778M16.4167 10.7778L14 8.5M16.4167 10.7778H11.6562" stroke="black" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>',children:{items:[{element:t,type:"html"}]}}],r={label:this.api.i18n.t("Counter type"),icon:eU.get(this.data.meta.counterType),children:{items:[]}};eq.forEach((e,t)=>{let n=eq.get(t);this.defaultCounterTypes.includes(n)&&r.children.items.push({title:this.api.i18n.t(t),icon:eU.get(n),isActive:this.data.meta.counterType===eq.get(t),closeOnActivate:!0,onActivate:()=>{this.changeCounters(eq.get(t))}})}),r.children.items.length>1&&n.push(r),e.push({type:"separator"},...n)}return e}onPaste(e){let{tagName:t}=e.detail.data;switch(t){case"OL":this.listStyle="ordered";break;case"UL":case"LI":this.listStyle="unordered"}this.list.onPaste(e)}pasteHandler(e){return this.list.pasteHandler(e)}changeCounters(e){var t;null==(t=this.list)||t.changeCounters(e),this.data.meta.counterType=e}changeStartWith(e){var t;null==(t=this.list)||t.changeStartWith(e),this.data.meta.start=e}changeTabulatorByStyle(){switch(this.listStyle){case"ordered":this.list=new e$({data:this.data,readOnly:this.readOnly,api:this.api,config:this.config,block:this.block},new eg(this.readOnly,this.config));break;case"unordered":this.list=new e$({data:this.data,readOnly:this.readOnly,api:this.api,config:this.config,block:this.block},new em(this.readOnly,this.config));break;case"checklist":this.list=new e$({data:this.data,readOnly:this.readOnly,api:this.api,config:this.config,block:this.block},new eN(this.readOnly,this.config))}}}},39409:(e,t,n)=>{"use strict";n.d(t,{A:()=>r}),function(){try{if("u">typeof document){var e=document.createElement("style");e.appendChild(document.createTextNode(".ce-header{padding:.6em 0 3px;margin:0;line-height:1.25em;outline:none}.ce-header p,.ce-header div{padding:0!important;margin:0!important}")),document.head.appendChild(e)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}}();class r{constructor({data:e,config:t,api:n,readOnly:r}){this.api=n,this.readOnly=r,this._settings=t,this._data=this.normalizeData(e),this._element=this.getTag()}get _CSS(){return{block:this.api.styles.block,wrapper:"ce-header"}}isHeaderData(e){return void 0!==e.text}normalizeData(e){let t={text:"",level:this.defaultLevel.number};return this.isHeaderData(e)&&(t.text=e.text||"",void 0===e.level||isNaN(parseInt(e.level.toString()))||(t.level=parseInt(e.level.toString()))),t}render(){return this._element}renderSettings(){return this.levels.map(e=>({icon:e.svg,label:this.api.i18n.t(`Heading ${e.number}`),onActivate:()=>this.setLevel(e.number),closeOnActivate:!0,isActive:this.currentLevel.number===e.number,render:()=>document.createElement("div")}))}setLevel(e){this.data={level:e,text:this.data.text}}merge(e){this._element.insertAdjacentHTML("beforeend",e.text)}validate(e){return""!==e.text.trim()}save(e){return{text:e.innerHTML,level:this.currentLevel.number}}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{level:!1,text:{}}}static get isReadOnlySupported(){return!0}get data(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data}set data(e){if(this._data=this.normalizeData(e),void 0!==e.level&&this._element.parentNode){let e=this.getTag();e.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(e,this._element),this._element=e}void 0!==e.text&&(this._element.innerHTML=this._data.text||"")}getTag(){let e=document.createElement(this.currentLevel.tag);return e.innerHTML=this._data.text||"",e.classList.add(this._CSS.wrapper),e.contentEditable=this.readOnly?"false":"true",e.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),e}get currentLevel(){let e=this.levels.find(e=>e.number===this._data.level);return e||(e=this.defaultLevel),e}get defaultLevel(){if(this._settings.defaultLevel){let e=this.levels.find(e=>e.number===this._settings.defaultLevel);if(e)return e;console.warn("(ง'̀-'́)ง Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}get levels(){let e=[{number:1,tag:"H1",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>'},{number:2,tag:"H2",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>'},{number:3,tag:"H3",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>'},{number:4,tag:"H4",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>'},{number:5,tag:"H5",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>'},{number:6,tag:"H6",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>'}];return this._settings.levels?e.filter(e=>this._settings.levels.includes(e.number)):e}onPaste(e){let t=e.detail;if("data"in t){let e=t.data,n=this.defaultLevel.number;switch(e.tagName){case"H1":n=1;break;case"H2":n=2;break;case"H3":n=3;break;case"H4":n=4;break;case"H5":n=5;break;case"H6":n=6}this._settings.levels&&(n=this._settings.levels.reduce((e,t)=>Math.abs(t-n)<Math.abs(e-n)?t:e)),this.data={level:n,text:e.innerHTML}}}static get pasteConfig(){return{tags:["H1","H2","H3","H4","H5","H6"]}}static get toolbox(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>',title:"Heading"}}}},54052:(e,t,n)=>{var r=0/0,i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,s=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,d="object"==typeof self&&self&&self.Object===Object&&self,u=c||d||Function("return this")(),p=Object.prototype.toString,h=Math.max,f=Math.min,g=function(){return u.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==p.call(t))return r;if(m(e)){var t,n="function"==typeof e.valueOf?e.valueOf():e;e=m(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var c=a.test(e);return c||l.test(e)?s(e.slice(2),c?2:8):o.test(e)?r:+e}e.exports=function(e,t,n){var r,i,o,a,l,s,c=0,d=!1,u=!1,p=!0;if("function"!=typeof e)throw TypeError("Expected a function");function v(t){var n=r,o=i;return r=i=void 0,c=t,a=e.apply(o,n)}function y(e){var n=e-s,r=e-c;return void 0===s||n>=t||n<0||u&&r>=o}function w(){var e,n,r,i=g();if(y(i))return C(i);l=setTimeout(w,(e=i-s,n=i-c,r=t-e,u?f(r,o-n):r))}function C(e){return(l=void 0,p&&r)?v(e):(r=i=void 0,a)}function k(){var e,n=g(),o=y(n);if(r=arguments,i=this,s=n,o){if(void 0===l)return c=e=s,l=setTimeout(w,t),d?v(e):a;if(u)return l=setTimeout(w,t),v(s)}return void 0===l&&(l=setTimeout(w,t)),a}return t=b(t)||0,m(n)&&(d=!!n.leading,o=(u="maxWait"in n)?h(b(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p),k.cancel=function(){void 0!==l&&clearTimeout(l),c=0,r=s=i=l=void 0},k.flush=function(){return void 0===l?a:C(g())},k}},56183:(e,t,n)=>{"use strict";n.d(t,{A:()=>u}),function(){try{if("u">typeof document){var e=document.createElement("style");e.appendChild(document.createTextNode('.image-tool{--bg-color: #cdd1e0;--front-color: #388ae5;--border-color: #e8e8eb}.image-tool__image{border-radius:3px;overflow:hidden;margin-bottom:10px;padding-bottom:0}.image-tool__image-picture{max-width:100%;vertical-align:bottom;display:block}.image-tool__image-preloader{width:50px;height:50px;border-radius:50%;background-size:cover;margin:auto;position:relative;background-color:var(--bg-color);background-position:center center}.image-tool__image-preloader:after{content:"";position:absolute;z-index:3;width:60px;height:60px;border-radius:50%;border:2px solid var(--bg-color);border-top-color:var(--front-color);left:50%;top:50%;margin-top:-30px;margin-left:-30px;animation:image-preloader-spin 2s infinite linear;box-sizing:border-box}.image-tool__caption{visibility:hidden;position:absolute;bottom:0;left:0;margin-bottom:10px}.image-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute!important;content:attr(data-placeholder);color:#707684;font-weight:400;display:none}.image-tool__caption[contentEditable=true][data-placeholder]:empty:before{display:block}.image-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{display:none}.image-tool--empty .image-tool__image,.image-tool--empty .image-tool__image-preloader{display:none}.image-tool--empty .image-tool__caption,.image-tool--uploading .image-tool__caption{visibility:hidden!important}.image-tool .cdx-button{display:flex;align-items:center;justify-content:center}.image-tool .cdx-button svg{height:auto;margin:0 6px 0 0}.image-tool--filled .cdx-button,.image-tool--filled .image-tool__image-preloader{display:none}.image-tool--uploading .image-tool__image{min-height:200px;display:flex;border:1px solid var(--border-color);background-color:#fff}.image-tool--uploading .image-tool__image-picture,.image-tool--uploading .cdx-button{display:none}.image-tool--withBorder .image-tool__image{border:1px solid var(--border-color)}.image-tool--withBackground .image-tool__image{padding:15px;background:var(--bg-color)}.image-tool--withBackground .image-tool__image-picture{max-width:60%;margin:0 auto}.image-tool--stretched .image-tool__image-picture{width:100%}.image-tool--caption .image-tool__caption{visibility:visible}.image-tool--caption{padding-bottom:50px}@keyframes image-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(e)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}}();let r='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>';function i(e,t=null,n={}){let r=document.createElement(e);for(let e in Array.isArray(t)?r.classList.add(...t):null!==t&&r.classList.add(t),n)n.hasOwnProperty(e)&&(r[e]=n[e]);return r}var o=(e=>(e.Empty="empty",e.Uploading="uploading",e.Filled="filled",e))(o||{});class a{constructor({api:e,config:t,onSelectFile:n,readOnly:r}){this.api=e,this.config=t,this.onSelectFile=n,this.readOnly=r,this.nodes={wrapper:i("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:i("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:i("div",this.CSS.imagePreloader),caption:i("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}applyTune(e,t){this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${e}`,t)}render(){return this.toggleStatus("empty"),this.nodes.wrapper}showPreloader(e){this.nodes.imagePreloader.style.backgroundImage=`url(${e})`,this.toggleStatus("uploading")}hidePreloader(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus("empty")}fillImage(e){let t=/\.mp4$/.test(e)?"VIDEO":"IMG",n={src:e},r="load";"VIDEO"===t&&(n.autoplay=!0,n.loop=!0,n.muted=!0,n.playsinline=!0,r="loadeddata"),this.nodes.imageEl=i(t,this.CSS.imageEl,n),this.nodes.imageEl.addEventListener(r,()=>{this.toggleStatus("filled"),void 0!==this.nodes.imagePreloader&&(this.nodes.imagePreloader.style.backgroundImage="")}),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}fillCaption(e){void 0!==this.nodes.caption&&(this.nodes.caption.innerHTML=e)}toggleStatus(e){for(let t in o)if(Object.prototype.hasOwnProperty.call(o,t)){let n=o[t];this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${n}`,n===e)}}get CSS(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}createFileButton(){let e=i("div",[this.CSS.button]);return e.innerHTML=this.config.buttonContent??`${r} ${this.api.i18n.t("Select an Image")}`,e.addEventListener("click",()=>{this.onSelectFile()}),e}}var l={exports:{}};!function(e,t){var n;window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"u">typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,(function(t){return e[t]}).bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()}catch{"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){(function(e){var r=n(2),i=setTimeout;function o(){}function a(e){if(!(this instanceof a))throw TypeError("Promises must be constructed via new");if("function"!=typeof e)throw TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(e,this)}function l(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,a._immediateFn(function(){var n,r=1===e._state?t.onFulfilled:t.onRejected;if(null!==r){try{n=r(e._value)}catch(e){return void c(t.promise,e)}s(t.promise,n)}else(1===e._state?s:c)(t.promise,e._value)})):e._deferreds.push(t)}function s(e,t){try{if(t===e)throw TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof a)return e._state=3,e._value=t,void d(e);if("function"==typeof n)return void p(function(){n.apply(t,arguments)},e)}e._state=1,e._value=t,d(e)}catch(t){c(e,t)}}function c(e,t){e._state=2,e._value=t,d(e)}function d(e){2===e._state&&0===e._deferreds.length&&a._immediateFn(function(){e._handled||a._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)l(e,e._deferreds[t]);e._deferreds=null}function u(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function p(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,c(t,e))})}catch(e){if(n)return;n=!0,c(t,e)}}a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var n=new this.constructor(o);return l(this,new u(e,t,n)),n},a.prototype.finally=r.a,a.all=function(e){return new a(function(t,n){if(!e||void 0===e.length)throw TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);for(var i=r.length,o=0;o<r.length;o++)(function e(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var l=a.then;if("function"==typeof l)return void l.call(a,function(t){e(o,t)},n)}r[o]=a,0==--i&&t(r)}catch(e){n(e)}})(o,r[o])})},a.resolve=function(e){return e&&"object"==typeof e&&e.constructor===a?e:new a(function(t){t(e)})},a.reject=function(e){return new a(function(t,n){n(e)})},a.race=function(e){return new a(function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)})},a._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){i(e,0)},a._unhandledRejectionFn=function(e){"u">typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.a=a}).call(this,n(5).setImmediate)},function(e,t,n){t.a=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})}},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n(4);var i,o,a,l,s,c,d,u=n(8),p=(o=function(e){return new Promise(function(t,n){e=l(e),(e=s(e)).beforeSend&&e.beforeSend();var r=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");r.open(e.method,e.url),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(e.headers).forEach(function(t){var n=e.headers[t];r.setRequestHeader(t,n)});var i=e.ratio;r.upload.addEventListener("progress",function(t){var n=Math.ceil(Math.round(t.loaded/t.total*100)*i/100);e.progress(Math.min(n,100))},!1),r.addEventListener("progress",function(t){var n=Math.ceil(Math.round(t.loaded/t.total*100)*(100-i)/100)+i;e.progress(Math.min(n,100))},!1),r.onreadystatechange=function(){if(4===r.readyState){var e=r.response;try{e=JSON.parse(e)}catch{}var i=u.parseHeaders(r.getAllResponseHeaders()),o={body:e,code:r.status,headers:i};d(r.status)?t(o):n(o)}},r.send(e.data)})},a=function(e){return e.method="POST",o(e)},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.url&&"string"!=typeof e.url)throw Error("Url must be a string");if(e.url=e.url||"",e.method&&"string"!=typeof e.method)throw Error("`method` must be a string or null");if(e.method=e.method?e.method.toUpperCase():"GET",e.headers&&"object"!==r(e.headers))throw Error("`headers` must be an object or null");if(e.headers=e.headers||{},e.type&&("string"!=typeof e.type||!Object.values(i).includes(e.type)))throw Error("`type` must be taken from module's \xabcontentType\xbb library");if(e.progress&&"function"!=typeof e.progress)throw Error("`progress` must be a function or null");if(e.progress=e.progress||function(e){},e.beforeSend=e.beforeSend||function(e){},e.ratio&&"number"!=typeof e.ratio)throw Error("`ratio` must be a number");if(e.ratio<0||e.ratio>100)throw Error("`ratio` must be in a 0-100 interval");if(e.ratio=e.ratio||90,e.accept&&"string"!=typeof e.accept)throw Error("`accept` must be a string with a list of allowed mime-types");if(e.accept=e.accept||"*/*",e.multiple&&"boolean"!=typeof e.multiple)throw Error("`multiple` must be a true or false");if(e.multiple=e.multiple||!1,e.fieldName&&"string"!=typeof e.fieldName)throw Error("`fieldName` must be a string");return e.fieldName=e.fieldName||"files",e},s=function(e){switch(e.method){case"GET":var t=c(e.data,i.URLENCODED);delete e.data,e.url=/\?/.test(e.url)?e.url+"&"+t:e.url+"?"+t;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var n=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).type||i.JSON}(e);(u.isFormData(e.data)||u.isFormElement(e.data))&&(n=i.FORM),e.data=c(e.data,n),n!==p.contentType.FORM&&(e.headers["content-type"]=n)}return e},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case i.URLENCODED:return u.urlEncode(e);case i.JSON:return u.jsonEncode(e);case i.FORM:return u.formEncode(e);default:return e}},d=function(e){return e>=200&&e<300},{contentType:i={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:o,get:function(e){return e.method="GET",o(e)},post:a,transport:function(e){return e=l(e),u.selectFiles(e).then(function(t){for(var n=new FormData,r=0;r<t.length;r++)n.append(e.fieldName,t[r],t[r].name);u.isObject(e.data)&&Object.keys(e.data).forEach(function(t){var r=e.data[t];n.append(t,r)});var i=e.beforeSend;return e.beforeSend=function(){return i(t)},e.data=n,a(e)})},selectFiles:function(e){return delete(e=l(e)).beforeSend,u.selectFiles(e)}});e.exports=p},function(e,t,n){n.r(t);var r=n(1);window.Promise=window.Promise||r.a},function(e,t,n){(function(e){var r=void 0!==e&&e||"u">typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(6),t.setImmediate="u">typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="u">typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(0))},function(e,t,n){(function(e,t){!function(e,n){if(!e.setImmediate){var r,i,o,a,l,s=1,c={},d=!1,u=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"===({}).toString.call(e.process)?r=function(e){t.nextTick(function(){f(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(a="setImmediate$"+Math.random()+"$",l=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&f(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",l,!1):e.attachEvent("onmessage",l),r=function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){f(e.data)},r=function(e){o.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(i=u.documentElement,r=function(e){var t=u.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(f,0,e)},p.setImmediate=function(e){"function"!=typeof e&&(e=Function(""+e));for(var t=Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return c[s]=i,r(s),s++},p.clearImmediate=h}function h(e){delete c[e]}function f(e){if(d)setTimeout(f,0,e);else{var t=c[e];if(t){d=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{h(e),d=!1}}}}}(typeof self>"u"?void 0===e?this:e:self)}).call(this,n(0),n(7))},function(e,t){var n,r,i=e.exports={};function o(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function l(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch{try{return n.call(null,e,0)}catch{return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch{n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch{r=a}}();var s,c=[],d=!1,u=-1;function p(){d&&s&&(d=!1,s.length?c=s.concat(c):u=-1,c.length&&h())}function h(){if(!d){var e=l(p);d=!0;for(var t=c.length;t;){for(s=c,c=[];++u<t;)s&&s[u].run();u=-1,t=c.length}s=null,d=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch{try{return r.call(null,e)}catch{return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||d||l(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){var r=n(9);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,e)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e,[{key:"urlEncode",value:function(e){return r(e)}},{key:"jsonEncode",value:function(e){return JSON.stringify(e)}},{key:"formEncode",value:function(e){if(this.isFormData(e))return e;if(this.isFormElement(e))return new FormData(e);if(this.isObject(e)){var t=new FormData;return Object.keys(e).forEach(function(n){var r=e[n];t.append(n,r)}),t}throw Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(e){return"[object Object]"===Object.prototype.toString.call(e)}},{key:"isFormData",value:function(e){return e instanceof FormData}},{key:"isFormElement",value:function(e){return e instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(t,n){var r=document.createElement("INPUT");r.type="file",e.multiple&&r.setAttribute("multiple","multiple"),e.accept&&r.setAttribute("accept",e.accept),r.style.display="none",document.body.appendChild(r),r.addEventListener("change",function(e){t(e.target.files),document.body.removeChild(r)},!1),r.click()})}},{key:"parseHeaders",value:function(e){var t=e.trim().split(/[\r\n]+/),n={};return t.forEach(function(e){var t=e.split(": "),r=t.shift(),i=t.join(": ");r&&(n[r]=i)}),n}}]),e}()},function(e,t){var n=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},r=function(e,t,i,o){return t=t||null,i=i||"&",o=o||null,e?(function(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t})(Object.keys(e).map(function(a){var l,s,c=a;if(o&&(c=o+"["+c+"]"),"object"==typeof e[a]&&null!==e[a])l=r(e[a],null,i,c);else{t&&(c=!isNaN(parseFloat(s=c))&&isFinite(s)?t+Number(c):c);var d=e[a];d=(d=0===(d=!1===(d=!0===d?"1":d)?"0":d)?"0":d)||"",l=n(c)+"="+n(d)}return l})).join(i).replace(/[!'()*]/g,""):""};e.exports=r}])}(l);let s=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(l.exports);function c(e){return void 0!==e&&"function"==typeof e.then}class d{constructor({config:e,onUpload:t,onError:n}){this.config=e,this.onUpload=t,this.onError=n}uploadSelectedFile({onPreview:e}){let t;let n=function(t){let n=new FileReader;n.readAsDataURL(t),n.onload=t=>{e(t.target.result)}};if(this.config.uploader&&"function"==typeof this.config.uploader.uploadByFile){let e=this.config.uploader.uploadByFile;t=s.selectFiles({accept:this.config.types??"image/*"}).then(t=>{n(t[0]);let r=e(t[0]);return c(r)||console.warn("Custom uploader method uploadByFile should return a Promise"),r})}else t=s.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types??"image/*",headers:this.config.additionalRequestHeaders,beforeSend:e=>{n(e[0])},fieldName:this.config.field??"image"}).then(e=>e.body);t.then(e=>{this.onUpload(e)}).catch(e=>{this.onError(e)})}uploadByUrl(e){let t;this.config.uploader&&"function"==typeof this.config.uploader.uploadByUrl?c(t=this.config.uploader.uploadByUrl(e))||console.warn("Custom uploader method uploadByUrl should return a Promise"):t=s.post({url:this.config.endpoints.byUrl,data:Object.assign({url:e},this.config.additionalRequestData),type:s.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(e=>e.body),t.then(e=>{this.onUpload(e)}).catch(e=>{this.onError(e)})}uploadByFile(e,{onPreview:t}){let n;let r=new FileReader;if(r.readAsDataURL(e),r.onload=e=>{t(e.target.result)},this.config.uploader&&"function"==typeof this.config.uploader.uploadByFile)c(n=this.config.uploader.uploadByFile(e))||console.warn("Custom uploader method uploadByFile should return a Promise");else{let t=new FormData;t.append(this.config.field??"image",e),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(([e,n])=>{t.append(e,n)}),n=s.post({url:this.config.endpoints.byFile,data:t,type:s.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(e=>e.body)}n.then(e=>{this.onUpload(e)}).catch(e=>{this.onError(e)})}}class u{constructor({data:e,config:t,api:n,readOnly:r,block:i}){this.isCaptionEnabled=null,this.api=n,this.block=i,this.config={endpoints:t.endpoints,additionalRequestData:t.additionalRequestData,additionalRequestHeaders:t.additionalRequestHeaders,field:t.field,types:t.types,captionPlaceholder:this.api.i18n.t(t.captionPlaceholder??"Caption"),buttonContent:t.buttonContent,uploader:t.uploader,actions:t.actions,features:t.features||{}},this.uploader=new d({config:this.config,onUpload:e=>this.onUpload(e),onError:e=>this.uploadingFailed(e)}),this.ui=new a({api:n,config:this.config,onSelectFile:()=>{this.uploader.uploadSelectedFile({onPreview:e=>{this.ui.showPreloader(e)}})},readOnly:r}),this._data={caption:"",withBorder:!1,withBackground:!1,stretched:!1,file:{url:""}},this.data=e}static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:r,title:"Image"}}static get tunes(){return[{name:"withBorder",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>',title:"With border",toggle:!0},{name:"stretched",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>',title:"Stretch image",toggle:!0},{name:"withBackground",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',title:"With background",toggle:!0}]}render(){var e,t,n;return((null==(e=this.config.features)?void 0:e.caption)===!0||(null==(t=this.config.features)?void 0:t.caption)===void 0||(null==(n=this.config.features)?void 0:n.caption)==="optional"&&this.data.caption)&&(this.isCaptionEnabled=!0),this.ui.render()}validate(e){return!!e.file.url}save(){let e=this.ui.nodes.caption;return this._data.caption=e.innerHTML,this.data}renderSettings(){var e;let t=u.tunes.concat(this.config.actions||[]),n={border:"withBorder",background:"withBackground",stretch:"stretched",caption:"caption"};(null==(e=this.config.features)?void 0:e.caption)==="optional"&&t.push({name:"caption",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>',title:"With caption",toggle:!0});let r=t.filter(e=>{var t,r;let i=Object.keys(n).find(t=>n[t]===e.name);return"caption"===i?(null==(t=this.config.features)?void 0:t.caption)!==!1:null==i||(null==(r=this.config.features)?void 0:r[i])!==!1}),i=e=>{let t=this.data[e.name];return"caption"===e.name&&(t=this.isCaptionEnabled??t),t};return r.map(e=>({icon:e.icon,label:this.api.i18n.t(e.title),name:e.name,toggle:e.toggle,isActive:i(e),onActivate:()=>{if("function"==typeof e.action){e.action(e.name);return}let t=!i(e);"caption"===e.name&&(this.isCaptionEnabled=!this.isCaptionEnabled,t=this.isCaptionEnabled),this.tuneToggled(e.name,t)}}))}appendCallback(){this.ui.nodes.fileButton.click()}static get pasteConfig(){return{tags:[{img:{src:!0}}],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i},files:{mimeTypes:["image/*"]}}}async onPaste(e){switch(e.type){case"tag":{let t=e.detail.data;if(/^blob:/.test(t.src)){let e=await (await fetch(t.src)).blob();this.uploadFile(e);break}this.uploadUrl(t.src);break}case"pattern":{let t=e.detail.data;this.uploadUrl(t);break}case"file":{let t=e.detail.file;this.uploadFile(t)}}}set data(e){this.image=e.file,this._data.caption=e.caption||"",this.ui.fillCaption(this._data.caption),u.tunes.forEach(({name:t})=>{let n="u">typeof e[t]&&(!0===e[t]||"true"===e[t]);this.setTune(t,n)}),e.caption&&this.setTune("caption",!0)}get data(){return this._data}set image(e){this._data.file=e||{url:""},e&&e.url&&this.ui.fillImage(e.url)}onUpload(e){e.success&&e.file?this.image=e.file:this.uploadingFailed("incorrect response: "+JSON.stringify(e))}uploadingFailed(e){console.log("Image Tool: uploading failed because of",e),this.api.notifier.show({message:this.api.i18n.t("Couldn’t upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}tuneToggled(e,t){"caption"===e?(this.ui.applyTune(e,t),!1==t&&(this._data.caption="",this.ui.fillCaption(""))):this.setTune(e,t)}setTune(e,t){this._data[e]=t,this.ui.applyTune(e,t),"stretched"===e&&Promise.resolve().then(()=>{this.block.stretched=t}).catch(e=>{console.error(e)})}uploadFile(e){this.uploader.uploadByFile(e,{onPreview:e=>{this.ui.showPreloader(e)}})}uploadUrl(e){this.ui.showPreloader(e),this.uploader.uploadByUrl(e)}}},97691:(e,t,n)=>{"use strict";n.d(t,{A:()=>r}),function(){try{if("u">typeof document){var e=document.createElement("style");e.appendChild(document.createTextNode(".inline-code{background:rgba(250,239,240,.78);color:#b44437;padding:3px 4px;border-radius:5px;margin:0 1px;font-family:inherit;font-size:.86em;font-weight:500;letter-spacing:.3px}")),document.head.appendChild(e)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}}();class r{constructor({api:e}){this.tag="CODE",this.api=e,this.button=null,this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get CSS(){return"inline-code"}static get isInline(){return!0}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}surround(e){if(!e)return;let t=this.api.selection.findParentTag(this.tag,r.CSS);t?this.unwrap(t):this.wrap(e)}wrap(e){let t=document.createElement(this.tag);t.classList.add(r.CSS),t.appendChild(e.extractContents()),e.insertNode(t),this.api.selection.expandToTag(t)}unwrap(e){var t;this.api.selection.expandToTag(e);let n=window.getSelection();if(!n)return;let r=n.getRangeAt(0),i=r.extractContents();null==(t=e.parentNode)||t.removeChild(e),r.insertNode(i),n.removeAllRanges(),n.addRange(r)}checkState(){let e=this.api.selection.findParentTag(this.tag,r.CSS);return this.button&&this.button.classList.toggle(this.iconClasses.active,!!e),!!e}get toolboxIcon(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 8L5 12L9 16"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8L19 12L15 16"/></svg>'}static get sanitize(){return{code:{class:r.CSS}}}}}}]);